(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{205:function(e,t,r){},229:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r(0),c=r.n(n),o=r(19),i=r.n(o),s=(r(205),r(5)),l=r(51),d=r(29),u=r(22),j=r(112),b=r.n(j),h=r(113),p=r.n(h),g=r(115),x=r.n(g),O=r(116),f=r.n(O),m=r(157),y=r(75),v=r(272),w=r(114),k=r.n(w),C=r(273),S=r(129),R=r(81),A=r(234),E=r(235),I=r(7),D=r(10),T=r.n(D),_=r(18),L=r(17),N=r.n(L),z="SET_LOADING",B="SET_ALERT",M="CLEAR_ALERT",W="LOG_IN_CALLBACK",P="LOG_OUT",H="LOG_IN_STATUS",U="GET_USERS",F="UPDATE_USER",q="GET_DELIVERY_STATUS",G="CREATE_CARDGROUP",V="CREATE_CARDGROUP_ERROR",Y="LOAD_CARDGROUPS",K="LOAD_CARDGROUP",J="DELETE_CARDGROUP",Q="DELETE_CARDGROUP_ERROR",Z="EDIT_CARDGROUP",X="CREATE_CARD",$="CREATE_CARD_ERROR",ee="LOAD_CARD",te="LOAD_CARDS",re="DELETE_CARD",ae="DELETE_CARD_ERROR",ne="CREATE_PEERREVIEW",ce="LOAD_PEERREVIEWS",oe="CREATE_RATING",ie="LOAD_RATINGS",se=function(){var e=Object(_.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("user_token"),e.prev=1,e.next=4,N.a.post("/api/token/expired",{},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return console.log(e.data),!0}));case 4:e.next=16;break;case 6:if(e.prev=6,e.t0=e.catch(1),console.log("Expired. Use refresh"),r=localStorage.getItem("refresh_token")){e.next=13;break}return localStorage.removeItem("user_token"),e.abrupt("return",!1);case 13:return e.next=15,N.a.post("/api/token/refresh",{},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){console.log("NEW TOKEN"),localStorage.setItem("user_token",e.data.token)}));case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),le=r(8),de=r(287),ue="750px",je="1200px",be=(Object(l.a)((function(e){return{pageWrapper:{marginLeft:"100px",marginRight:"200px"}}})),Object(le.a)({root:{marginLeft:"auto",marginRight:"auto",marginBottom:"200px",maxWidth:ue,minWidth:ue,marginTop:"50px"}})(de.a)),he=Object(le.a)({root:{marginLeft:"auto",marginRight:"auto",maxWidth:ue,minWidth:ue,marginTop:"50px"}})(de.a),pe=(Object(le.a)({root:{marginLeft:"auto",marginRight:"auto",maxWidth:je,minWidth:je,marginTop:"50px"}})(de.a),Object(le.a)({root:{marginLeft:"auto",marginRight:"auto",maxWidth:ue,minWidth:ue}})(de.a)),ge=Object(l.a)((function(e){return{link:{color:"inherit",textDecoration:"none"},navlink:{color:"white",whiteSpace:"nowrap"},navbar:{backgroundColor:e.palette.primary.main,color:"white",textColor:"white"}}})),xe=function(e){var t=ge(),r=Object(I.c)((function(e){return e.authReducer.loggedInUser})),n=c.a.useState(null),o=Object(s.a)(n,2),i=o[0],l=o[1],j=Object(d.g)(),h=Object(I.b)(),g=function(){l(null)};return r.username?Object(a.jsxs)("div",{children:[Object(a.jsxs)(R.a,{color:"inherit","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},children:[Object(a.jsx)(b.a,{}),Object(a.jsx)("div",{style:{marginLeft:"5px"},children:r.username}),Object(a.jsx)(p.a,{})]}),Object(a.jsxs)(m.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:g,children:[Object(a.jsx)(u.b,{to:"/userprofile/"+r.username,className:t.link,children:Object(a.jsxs)(y.a,{onClick:g,children:[Object(a.jsx)(k.a,{})," My Profile"]})}),Object(a.jsxs)(y.a,{onClick:function(){e.setDarkMode()},children:[Object(a.jsx)(x.a,{}),"Toggle Dark Mode"]}),Object(a.jsxs)(y.a,{onClick:function(){console.log("out"),h(function(){var e=Object(_.a)(T.a.mark((function e(t,r){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("user_token")&&(a=localStorage.getItem("user_token"),N.a.post("/api/logout/accesstoken",{},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){e.data.error?console.error(e.data.error):localStorage.removeItem("user_token")}))),localStorage.getItem("refresh_token")&&(n=localStorage.getItem("refresh_token"),N.a.post("/api/logout/refreshtoken",{},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){if(e.data.error)throw new Error(e.data.error);localStorage.removeItem("refresh_token")}))),localStorage.clear(),console.log("logging out..."),t({type:P,payload:{loggedIn:!1,loggedInUser:{}}});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),g(),j.push("/"),window.location.reload()},children:[Object(a.jsx)(f.a,{})," Logout"]})]})]}):Object(a.jsx)(u.c,{className:t.navlink,to:"/",children:" Log in"})},Oe=function(e){var t=ge(),r=Object(I.c)((function(e){return e.authReducer.loggedIn})),n=Object(I.c)((function(e){return e.authReducer.isAdmin})),o=Object(d.g)();return Object(a.jsx)(v.a,{position:"static",style:{},children:Object(a.jsx)(pe,{className:t.navbar,children:Object(a.jsxs)(C.a,{style:{padding:0},children:[Object(a.jsx)(u.b,{to:"/",className:t.link,children:Object(a.jsx)(S.a,{variant:"h6",style:{flexGrow:0},onClick:function(){return o.push("/")},children:"TTK4145 Flashcards"})}),Object(a.jsx)(A.a,{style:{textColor:"white",display:"flex",marginLeft:"auto"},children:r?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(E.a,{children:Object(a.jsx)(u.c,{className:t.navlink,to:"/addcards",children:" Add Cards"})}),Object(a.jsx)(E.a,{children:Object(a.jsx)(u.c,{className:t.navlink,to:"/peerreview",children:" Peer Review"})}),Object(a.jsx)(E.a,{children:Object(a.jsx)(u.c,{className:t.navlink,to:"/study",children:" Study "})}),n?Object(a.jsx)(E.a,{children:Object(a.jsx)(u.c,{className:t.navlink,to:"/adminpage",children:" Admin Page"})}):Object(a.jsx)("div",{})]}):Object(a.jsx)("div",{})}),Object(a.jsx)("div",{style:{marginLeft:"auto"},children:Object(a.jsx)(xe,{setDarkMode:e.setDarkMode})})]})})})},fe=r(274),me=r(275),ye=r(276),ve={loading:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return console.log("laading",t),{loading:t.payload};default:return console.log("default alert"),e}},ke=r(236),Ce=Object(l.a)((function(e){return{loader:{textAlign:"center"}}})),Se=function(e){var t=Ce(),r=Object(I.c)((function(e){return e.loadingReducer.loading}));return Object(a.jsx)("div",{style:e.style,className:t.loader,children:r?Object(a.jsx)(ke.a,{size:e.size?e.size:40,color:e.color?e.color:"secondary"}):e.alternative?e.alternative:Object(a.jsx)("div",{})})},Re=["January","February","March","April","May","June","July","August","September","October","November","December"],Ae=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Ee=function(e){console.log("ddatee"),console.log(e);var t=new Date(e);try{return"".concat(Ae[t.getDay()],", ").concat(Re[t.getMonth()]," ").concat(t.getDate(),", ").concat(t.getFullYear()," ").concat(t.getHours(),":").concat((t.getMinutes()<10?"0":"")+t.getMinutes()," ")}catch(r){return"Date error"}},Ie=r(158),De=r.n(Ie),Te=function(e){var t=e.cardgroups,r=e.showDueDate,n=e.onClick;return Object(I.c)((function(e){return e.loadingReducer.loading}))?Object(a.jsx)(Se,{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{}),Object(a.jsxs)(me.a,{container:!0,spacing:0,children:[Object(a.jsx)(fe.a,{}),t.length?t.map((function(e){return Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsx)(ye.a,{onClick:function(){return n(e.id)},style:{padding:"10px",minHeight:"100px"},children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsx)(me.a,{item:!0,xs:1,alignItems:"center",children:Object(a.jsx)(De.a,{color:"textprimary",style:{marginTop:"10px"}})}),Object(a.jsxs)(me.a,{item:!0,xs:11,children:[Object(a.jsxs)(S.a,{variant:"subtitle1",component:"h2",children:["Add flashcards to ",Object(a.jsxs)("i",{children:[e.title,"    "]})]}),r?Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",component:"h2",children:[e.numberOfCardsDue," cards are due: ",Ee.call(undefined,e.dueDate)]}):Object(a.jsx)("div",{})]})]})}),Object(a.jsx)(fe.a,{})]},e.id)})):Object(a.jsx)(S.a,{variant:"subtitle1",children:" No groups"})]})]})},_e=function(){return function(){var e=Object(_.a)(T.a.mark((function e(t,r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.get("/api/cardgroups").then((function(e){if(e.data.error)throw console.log("error"),new Error(e.data.error);var r=e.data;console.log("mah cardgroups"),console.log(r),t({type:Y,payload:r})})).catch((function(e){return console.log(e)}));case 5:t({type:z,payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Le=r(289),Ne=r(176),ze=r(103),Be=r(36),Me=r(286),We=function(e){var t=e.onClose,r=e.selectedValue,n=e.open;return Object(a.jsx)(Le.a,{onClose:function(){t(r)},"aria-labelledby":"simple-dialog-title",open:n,children:Object(a.jsx)("div",{children:"Are you sure??"})})},Pe=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh"}}}})),He=function(e){var t=e.onClose,r=e.selectedValue,o=e.open,i=e.toeditCardgroup,l=Object(I.b)(),d=c.a.useState(null),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(""),p=Object(s.a)(h,2),g=p[0],x=p[1],O=Object(n.useState)(null),f=Object(s.a)(O,2),m=f[0],y=f[1],v=Object(n.useState)("23:59"),w=Object(s.a)(v,2),k=w[0],C=w[1],A=Object(I.c)((function(e){return e.alertReducer.severity})),E=Object(I.c)((function(e){return e.alertReducer.newAlert})),D=Pe();Object(n.useEffect)((function(){if(console.log("starting"),i){x(i.title),y(i.numberOfCardsDue);var e=new Date(i.dueDate);b(e),C(e.getHours()+":"+e.getMinutes())}}),[o]),console.log(j);Object(n.useEffect)((function(){console.log("stformSubmitCallback"),"success"===A&&L()}),[E]);var L=function(){b(null),x(""),y(0),C("23:59"),t(r)};return Object(a.jsxs)(Le.a,{onClose:L,className:D.dialog,open:o,style:{margin:"100px"},children:[Object(a.jsx)(We,{}),Object(a.jsxs)("div",{style:{margin:"40px 40px"},children:[Object(a.jsx)(me.a,{container:!0,spacing:2,children:Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsxs)(S.a,{variant:"h6",align:"left",children:[" ",i?"Edit Cardgroup":"New Cardgroup","\xa0"]})})}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault();var t,r=j;r.setMinutes(k.split(":")[1]),r.setHours(k.split(":")[0]),g&&j&&m&&k?l(i?(t={id:i.id,title:g,dueDate:r,numberOfCardsDue:m},function(){var e=Object(_.a)(T.a.mark((function e(r,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:console.log("we editing"),N.a.put("/api/admin/cardgroups/".concat(t.id),{title:t.title,numberOfCardsDue:t.numberOfCardsDue,dueDate:t.dueDate},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("returned"),console.log(e.data);var t=e.data,a={severity:"success",text:"successfully edited cardgroup: "+t.title};r({type:B,payload:a}),r({type:Z,payload:t})})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};r({type:B,payload:t})})),console.log("async call up in hier",t);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()):function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:console.log("c cardgroup"),console.log(e),N.a.post("/api/admin/cardgroups",{title:e.title,numberOfCardsDue:e.numberOfCardsDue,dueDate:e.dueDate},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("returned"),console.log(e.data);var t=e.data;console.log(t.dueDate),console.log("was created, ",t);var a={severity:"success",text:"successfully created cardgroup: "+t.title};r({type:B,payload:a}),r({type:G,payload:t})})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};r({type:B,payload:t})})),console.log("async call up in hier",e);case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}({title:g,dueDate:r,numberOfCardsDue:m})):alert("Fill inn all fields")},children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsx)(me.a,{item:!0,xs:12}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Ne.a,{color:"secondary",onChange:function(e){return x(e.target.value)},fullWidth:!0,required:!0,value:g,variant:"outlined",label:"Cardgroup title"})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Ne.a,{fullWidth:!0,color:"secondary",id:"outlined-number",label:"Number of flashcards for delivery pr student",type:"number",value:m,required:!0,onChange:function(e){return y(e.target.value)},variant:"outlined"})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(Be.a,{utils:ze.a,children:Object(a.jsx)(Me.a,{fullWidth:!0,disableToolbar:!0,required:!0,inputVariant:"outlined",variant:"outlined",format:"MM/dd/yyyy",id:"date-picker-inline",label:"Due date for delivery",value:j,onChange:function(e){b(e)},onClick:console.log("close"),color:"secondary",autoOk:!0,animateYearScrolling:!0,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(Ne.a,{fullWidth:!0,id:"time",label:"",type:"time",variant:"outlined",onChange:function(e){return C(e.target.value)},value:k,defaultValue:"23:59",color:"secondary",InputLabelProps:{shrink:!0}})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(R.a,{variant:"contained",onClick:L,fullWidth:!0,color:"primary",children:" Back"})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(R.a,{type:"submit",fullWidth:!0,style:{backgroundColor:j&&g&&m?"green":"grey",color:"white"},children:i?"Submit Edit":"Submit"})})]})})]})]})},Ue=r(11),Fe={loggedIn:!1,loggedInUser:{},isAdmin:!1},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return console.log("successfull login callback"),Object(Ue.a)(Object(Ue.a)({},e),{},{loggedIn:t.payload.loggedIn,isAdmin:t.payload.isAdmin});case P:return console.log("logging out"),console.log(t.payload),Object(Ue.a)(Object(Ue.a)({},e),{},{loggedIn:t.payload.loggedIn,loggedInUser:t.payload.loggedInUser});case H:return console.log("fetching status"),console.log(t.payload),Object(Ue.a)(Object(Ue.a)({},e),{},{loggedIn:t.payload.loggedIn,loggedInUser:t.payload.loggedInUser,isAdmin:t.payload.isAdmin});default:return console.log("default auth"),e}},Ge=Object(l.a)((function(e){return{addButton:{backgroundColor:e.palette.button.success.main,color:"white",border:"none",align:"center","&:hover":{background:e.palette.button.success.dark}}}})),Ve=function(){var e=Ge(),t=Object(I.b)(),r=Object(I.c)((function(e){return e.cardgroupReducer.cardgroups})),o=Object(I.c)((function(e){return e.authReducer.isAdmin}));Object(n.useEffect)((function(){t(_e())}),[t]),Object(n.useEffect)((function(){console.log("cardgroups changed...")}),[r]);var i=c.a.useState(!1),l=Object(s.a)(i,2),u=l[0],j=l[1],b=Object(d.g)();return Object(a.jsxs)(be,{children:[Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsxs)(me.a,{item:!0,xs:8,children:[Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:"Add Flashcards to Cardgroups"}),Object(a.jsx)(S.a,{variant:"body2",color:"textSecondary",children:"Each cardgroup has a set number of cards to submit and a duedate."})]}),Object(a.jsx)(me.a,{item:!0,xs:4,children:o?Object(a.jsx)(R.a,{fullWidth:!0,className:e.addButton,variant:"outlined",onClick:function(){j(!0)},children:"+ Create group"}):Object(a.jsx)("div",{})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Te,{cardgroups:r,showDueDate:!0,onClick:function(e){b.push("/cardgroup/"+e)}})})]}),Object(a.jsx)(He,{open:u,onClose:function(e){j(!1)}})]})},Ye=r(280),Ke=r(93),Je=r(159),Qe=r.n(Je),Ze=Object(Ke.a)(Ye.a)({color:"black",padding:"20px"}),Xe=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),l=i[0],u=i[1],j=Object(n.useState)(""),b=Object(s.a)(j,2),h=b[0],p=b[1],g=Object(I.b)(),x=Object(n.useState)(!1),O=Object(s.a)(x,2),f=O[0],m=O[1];return f?Object(a.jsx)(d.a,{to:{pathname:"/loginfunc"}}):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{style:{marginBottom:0,marginTop:"50px"},children:Object(a.jsx)("h3",{style:{fontSize:"14px",color:"#666",display:"inline",padding:"12px"},children:"ALTERNATIVE LOGIN - JUST FOR TESTING"})}),Object(a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),r&&l&&h){var t={username:r,email:l,name:h};fetch("/api/login/userdata",{method:"POST",body:JSON.stringify(t),credentials:"include",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(console.log(e),"success"!==e.status)throw e.error;console.log("redirecting"),m(!0)})).catch((function(e){g({type:B,payload:{severity:"error",text:e}})}))}else g({type:B,payload:{severity:"error",text:"Missing credentials for login"}})},children:[Object(a.jsx)(Ne.a,{label:"username",onChange:function(e){return c(e.target.value)},required:!0}),"  ",Object(a.jsx)("br",{}),Object(a.jsx)(Ne.a,{label:"name",onChange:function(e){return p(e.target.value)},required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)(Ne.a,{label:"email",onChange:function(e){return u(e.target.value)},required:!0})," ",Object(a.jsx)("br",{}),Object(a.jsx)(R.a,{variant:"contained",style:{margin:"30px"},type:"submit",children:"Manual Login (for testing)"})]})]})};var $e=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1],o=Object(I.b)(),i=function(){var e=Object(_.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o({type:z,payload:!0}),e.next=3,N.a.get("/api/login/url ",{withCredentials:!0}).then((function(e){window.open(e.data.url,"_self")})).catch((function(e){console.log("err",e);o({type:B,payload:{severity:"error",text:"External login failed"}})}));case 3:o({type:z,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(be,{style:{textAlign:"center",marginTop:"15%"},children:[Object(a.jsxs)(R.a,{color:"primary",variant:"contained",onClick:i,style:{width:"300px",height:"80px"},children:["Log in with Feide",Object(a.jsx)(Se,{style:{marginLeft:"10px",height:"26px"},size:24,alternative:Object(a.jsx)(Qe.a,{})})]})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("div",{style:{padding:"10px"},children:[Object(a.jsx)(Ze,{href:"#",onClick:function(e){return c(!r)},children:"Alternative login"}),Object(a.jsx)(Ze,{target:"_blank",href:"https://s.ntnu.no/glemt",children:"Forgot Password"})]}),r?Object(a.jsx)(Xe,{}):Object(a.jsx)("div",{children:" "})]})},et={users:[],status:[]},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return console.log("successfull get users"),Object(Ue.a)(Object(Ue.a)({},e),{},{users:t.payload});case q:return console.log("successfull get status"),Object(Ue.a)(Object(Ue.a)({},e),{},{status:t.payload});case F:return console.log("updated user"),Object(Ue.a)(Object(Ue.a)({},e),{},{users:e.users.map((function(e){return e.id==t.payload.id?t.payload:e}))});default:return console.log("default auth"),e}},rt=function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:N.a.get("/api/admin/users/role="+e,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(t){if(t.data.error)throw new Error(t.data.error);console.log("res data role ="+e,t.data),r({type:U,payload:t.data})})).catch((function(e){console.log("Error in get users",e);var t={severity:"error",text:e.toString()};r({type:B,payload:t})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},at=r(50),nt=r(87),ct=r(134),ot=r(133),it=function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r({type:z,payload:!0}),console.log("idd",e),e){t.next=6;break}r({type:te,payload:[]}),t.next=10;break;case 6:return t.next=8,se();case 8:return t.next=10,N.a.get("/api/admin/cardgroup/".concat(e,"/flashcards"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){var t=e.data;console.log("lmlmlml"),console.log(t),r({type:te,payload:t})})).catch((function(e){var t={severity:"error",text:e.toString()+" when attempting to get card"};r({type:B,payload:t})}));case 10:r({type:z,payload:!1});case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},st=function(e){var t=Object(I.c)((function(e){return e.cardgroupReducer.cardgroups})),r=Object(I.b)();Object(n.useEffect)((function(){r(_e())}),[]);var o=[];t.map((function(e,t){return o[t]=Object(a.jsxs)(y.a,{value:e.id,children:[e.title," "]},t)}));var i=c.a.useState(""),l=Object(s.a)(i,2),d=l[0],u=l[1];Object(n.useEffect)((function(){e.showFirst&&t.length&&(u(t[0].id),e.onChange&&e.onChange(t[0].id))}),[t]);return Object(a.jsxs)(nt.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(ct.a,{id:"demo-simple-select-outlined-label",children:"Choose Cardgroup"}),Object(a.jsx)(ot.a,{required:!0,color:"secondary",labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:d,onChange:function(t){u(t.target.value),e.onChange&&e.onChange(t.target.value)},label:"group",children:o.length?o:Object(a.jsx)(y.a,{value:"",children:Object(a.jsx)("em",{children:"No groups exists"})})})]})},lt=r(282),dt=r(131),ut=r(76),jt=r(163),bt=r.n(jt),ht=r(162),pt=r.n(ht),gt=r(85),xt=r.n(gt),Ot=function(e){var t=e.flashcard,r=e.style,c=e.revealback,o=Object(n.useState)(c),i=Object(s.a)(o,2),l=i[0],d=i[1];return Object(a.jsx)("div",{style:r,children:Object(a.jsxs)(me.a,{container:!0,spacing:0,children:[Object(a.jsxs)(me.a,{item:!0,xs:12,style:{textAlign:"center",minHeight:"100px",minWidth:"300px"},children:[Object(a.jsx)(S.a,{variant:"caption",color:"textSecondary",children:"Front:"}),Object(a.jsx)(S.a,{variant:"body2",style:{marginTop:"auto",overflow:"hidden"},children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:xt.a.sanitize(t.front)}})})]}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(me.a,{item:!0,xs:12,style:{textAlign:"center",minHeight:"100px",minWidth:"300px"},children:l?Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{variant:"caption",color:"textSecondary",children:"Back:"}),Object(a.jsx)(S.a,{variant:"body2",children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:xt.a.sanitize(t.back)}})})]}):Object(a.jsx)(R.a,{variant:"contained",color:"primary",style:{marginTop:"25px"},onClick:function(){return d(!0)},children:"Show Answer"})})]})})},ft=r(102),mt=r.n(ft),yt=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh"}},customizedButton:{position:"absolute",left:"80%",top:"5%"}}})),vt=function(e){var t=e.card,r=e.onClose,n=e.open,c=e.selectedValue,o=function(){r(c)},i=yt();return Object(a.jsx)(Le.a,{onClose:o,className:i.dialog,open:n,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(dt.a,{title:"Close",placement:"left",children:Object(a.jsx)(ut.a,{onClick:o,className:i.customizedButton,children:Object(a.jsx)(mt.a,{})})}),Object(a.jsx)(Ot,{flashcard:t,style:{margin:"30px"}})]})})},wt=(r(277),r(161),r(79)),kt=r.n(wt),Ct=function(e){var t=e.onChange,r=e.value,c=e.InputProps,o=e.fullWidth,i=e.required,s=e.multiline,l=e.rows,d=e.label,u=Object(n.useRef)();return Object(a.jsx)(Ne.a,{inputRef:u,onKeyDown:function(e){if(console.log(e.key),"Tab"===e.key){e.preventDefault(),console.log(u);var a=e.target,n=a.selectionStart,c=a.selectionEnd,o=r.substring(0,n)+"\t"+r.substring(c);u.current.value=o,t(o),u.current.selectionStart=u.current.selectionEnd=n+"\t".length}},onChange:function(e){return t(e.target.value)},fullWidth:o,required:i,multiline:s,rows:l,label:d,variant:"outlined",color:"secondary",value:r,InputProps:c})},St=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh"}}}})),Rt=function(e){var t=e.onClose,r=e.selectedValue,c=e.open,o=Object(I.b)(),i=St(),l=e.cardgroupId,d=Object(n.useState)(""),j=Object(s.a)(d,2),b=j[0],h=j[1],p=Object(n.useState)(""),g=Object(s.a)(p,2),x=g[0],O=g[1],f=Object(n.useState)(!1),m=Object(s.a)(f,2),y=m[0],v=m[1];Object(n.useEffect)((function(){e.card&&(console.log("cccc",e.card),h(e.card.front),O(e.card.back))}),[e.card]);var w=function(){v(!1),t(r)};return Object(a.jsx)(Le.a,{onClose:w,className:i.dialog,open:c,children:Object(a.jsx)("form",{onSubmit:function(t){var r;t.preventDefault(),b&&x&&(l||e.card.id)?(e.card?o((r={front:b,back:x,id:e.card.id},function(){var e=Object(_.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:console.log("carddd",r),N.a.put("/api/currentuser/flashcards/"+r.id,{front:r.front,back:r.back},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var a=e.data;t({type:re,payload:r}),t({type:X,payload:a}),t({type:B,payload:{severity:"success",text:"successfully changed card"}})})).catch((function(e){console.log("This is an error yes plz"),console.log(e.toString());var r={severity:"error",text:e.toString()};t({type:B,payload:r})})),console.log("async call up in hier",r);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())):o(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:N.a.post("/api/currentuser/flashcards",{front:e.front,back:e.back,cardgroupid:e.cardgroupid},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;r({type:X,payload:t}),r({type:B,payload:{severity:"success",text:"successfully created card"}})})).catch((function(e){console.log("This is an error yes plz"),console.log(e.toString());var t={severity:"error",text:e.toString()};r({type:B,payload:t})})),console.log("async call up in hier",e);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}({front:b,back:x,cardgroupid:l})),h(""),O(""),w()):(alert("fill inn all fields"),console.log(b,x,l))},style:{margin:"40px"},children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsxs)(S.a,{variant:"h5",children:[" ",e.card?"Edit Flashcard":"Create a flashcard. This can be edited later"," "]}),Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[" You can write either pure text or use HTML. ",Object(a.jsx)(u.b,{to:"/htmlguide",target:"_blank",children:"HTML Guide"}),Object(a.jsx)("br",{}),"Make sure the Card looks good in ",Object(a.jsx)("i",{children:"Preview Flashcard"})," if writing in HTML."]})]}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Ct,{onChange:h,value:b,label:"Front (question)",fullWidth:!0,required:!0,multiline:!0,rows:7})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Ct,{onChange:O,label:"Back (answer)",multiline:!0,rows:7,value:x,fullWidth:!0,required:!0})}),Object(a.jsxs)(me.a,{item:!0,xs:12,style:{textAlign:"center"},children:[y?Object(a.jsx)(de.a,{border:1,borderColor:"secondary.light",borderRadius:5,align:"center",mb:"5px",children:Object(a.jsx)(Ot,{flashcard:{front:b,back:x},revealback:!0})}):"",Object(a.jsx)(R.a,{fullWidth:!0,color:"secondary",variant:"outlined",endIcon:Object(a.jsx)(kt.a,{}),onClick:function(){return v(!y)},children:y?"Hide Preview":"Preview Flashcard"})]}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(R.a,{variant:"contained",onClick:w,fullWidth:!0,color:"primary",children:"Cancel"})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsxs)(R.a,{type:"submit",fullWidth:!0,style:{backgroundColor:b&&x?"green":"grey",color:"white"},children:["Submit ",e.card?"Edit":""]})})]})})})},At=function(e){var t=Object(I.b)(),r=Object(n.useState)({}),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)(!1),d=Object(s.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(!1),h=Object(s.a)(b,2),p=h[0],g=h[1],x=Object(I.c)((function(e){return e.loadingReducer.loading})),O=function(e){window.confirm("Are you sure you want to delete this card?")&&t(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:return console.log("del,",e),t.next=5,N.a.delete("/api/currentuser/flashcards/".concat(e.id),{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(t){if(console.log(t.data),t.data.error)throw new Error(t.data.error);r({type:B,payload:{severity:"success",text:"successfully deleted card"}}),r({type:re,payload:e})})).catch((function(t){var a={severity:"error",text:t.toString()+" when attempting to delete card"};r({type:B,payload:a}),r({type:ae,payload:e})}));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(e))};console.log("car1ds",e.cards);var f=[];return e.cards.length&&e.cards.map((function(e,t){return f[t]=Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(lt.a,{style:{margin:"10px"},children:Object(a.jsxs)(me.a,{container:!0,spacing:1,children:[Object(a.jsx)(me.a,{item:!0,xs:1}),Object(a.jsx)(me.a,{item:!0,xs:10,onClick:function(){return function(e){i(e),g(!0)}(e)},style:{},children:Object(a.jsx)(Ot,{flashcard:e,revealback:!0})}),Object(a.jsxs)(me.a,{item:!0,xs:1,style:{paddingTop:"50px"},children:[Object(a.jsx)(dt.a,{title:"Edit Flashcard",placement:"right",style:{margin:"3px"},children:Object(a.jsx)(ut.a,{onClick:function(){return function(e){console.log("edit",e),i(e),j(!0)}(e)},size:"small",children:Object(a.jsx)(pt.a,{style:{fontSize:"20px"}})})}),Object(a.jsx)(dt.a,{title:"Delete Flashcard",placement:"right",style:{margin:"3px"},children:Object(a.jsx)(ut.a,{onClick:function(){return O(e)},size:"small",children:Object(a.jsx)(bt.a,{style:{fontSize:"20px"}})})})]})]})},e.id)})})),x?Object(a.jsx)(Se,{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(vt,{open:p,onClose:function(){return g(!1)},card:o}),Object(a.jsx)(Rt,{open:u,onClose:function(){return j(!1)},card:o}),f.length?Object(a.jsx)(me.a,{container:!0,spacing:0,children:f}):Object(a.jsxs)("div",{style:{color:"grey",marginTop:"150px"},children:[Object(a.jsx)(S.a,{variant:"h5",children:"No cards"}),Object(a.jsxs)(S.a,{variant:"body1",children:["Add cards using the ",Object(a.jsx)("i",{children:"Add Flashcard"})," button"]})]})]})},Et=function(e){var t=e.onClose,r=e.selectedValue,n=e.open,c=e.card;return Object(a.jsx)(Le.a,{onClose:function(){t(r)},"aria-labelledby":"simple-dialog-title",open:n,children:Object(a.jsx)(de.a,{style:{width:"400px",height:"auto",margin:0},children:Object(a.jsx)(At,{cards:[c]})})})},It=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.cardReducer.cards})),r=Object(n.useState)(!1),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(n.useState)({}),d=Object(s.a)(l,2),u=d[0],j=d[1],b=Object(I.c)((function(e){return e.loadingReducer.loading})),h=Object(n.useState)(0),p=Object(s.a)(h,2),g=p[0],x=p[1];Object(n.useEffect)((function(){e(it(g)),console.log("status")}),[e,g]),console.log("cards"),console.log(t);var O=t.map((function(e){return{id:e.id,name:e.user?e.user.name:"",username:e.user?e.user.username:"",front:e.front,back:e.back,nRatings:e.nRatings,averageRating:e.averageRating}}));return console.log("cgid",g),Object(a.jsxs)(be,{children:[Object(a.jsx)(Et,{open:o,onClose:function(){return i(!1)},card:u}),Object(a.jsx)("div",{style:{marginBottom:"15px"},children:Object(a.jsx)(st,{onChange:x,showFirst:!0})}),Object(a.jsx)("div",{style:{height:"400px",width:"100%"},children:b?Object(a.jsx)(Se,{}):t.length?Object(a.jsx)(at.a,{onCellClick:function(e){return function(e){console.log("print",e.row),j(e.row),i(!0)}(e)},rows:O,columns:[{field:"username",headerName:"Username",width:130},{field:"front",headerName:"Card Front",width:130},{field:"back",headerName:"Card Back",width:130},{field:"nRatings",headerName:"N Ratings",width:130},{field:"averageRating",headerName:"Avg Rating",width:130}],pageSize:10}):"No flashcards for this cardgroup"})]})},Dt=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.authReducer.loggedIn}));Object(n.useEffect)((function(){e(function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z,payload:!0}),e.next=3,N.a.get("/api/login/callback",{withCredentials:!0}).then((function(e){if(e.data.error)throw new Error(e.data.error);var r=e.data.user_token,a=e.data.refresh_token;console.log("action, usertoken",r),console.log("action, refresh",a),localStorage.setItem("user_token",r),localStorage.setItem("refresh_token",a),t({type:W,payload:{loggedIn:!0}})})).catch((function(e){console.log("Error in signInCallback",e);var r={severity:"error",text:e.toString()};t({type:B,payload:r})}));case 3:t({type:z,payload:!1});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]);var r=Object(d.g)();return t&&r.push("/"),Object(a.jsx)(be,{children:Object(a.jsx)(Se,{})})},Tt=r(283),_t=Object(l.a)((function(e){return{progressBar:{"& .MuiLinearProgress-barColorPrimary":{backgroundColor:e.palette.button.success.main}}}})),Lt=function(e){var t=e.x,r=e.y,n=e.body,c=e.style,o=_t(),i=Math.round(t/r*100);return Object(a.jsx)("div",{style:c,children:Object(a.jsxs)(me.a,{container:!0,children:[Object(a.jsxs)(me.a,{item:!0,xs:8,children:[Object(a.jsx)(S.a,{variant:"body1",children:n}),Object(a.jsxs)(S.a,{variant:"body1",children:[t," of ",r]})]}),Object(a.jsx)(me.a,{item:!0,xs:4,children:Object(a.jsxs)(S.a,{variant:"h4",children:[i,"%"]})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Tt.a,{className:o.progressBar,variant:"determinate",value:i})})]})})},Nt=Object(l.a)((function(e){return{addButton:{backgroundColor:e.palette.button.success.main,color:"white",border:"none",align:"center","&:hover":{background:e.palette.button.success.dark}},delButton:{backgroundColor:e.palette.button.error.main,color:"white",border:"none",align:"center","&:hover":{background:e.palette.button.error.dark}}}})),zt=function(e){console.log("prop"),console.log(e.match.params);var t=Nt(),r=Object(I.c)((function(e){return e.authReducer.isAdmin})),c=Object(I.c)((function(e){return e.cardReducer.cards})),o=Object(I.c)((function(e){return e.cardgroupReducer.cardgroups[0]})),i=(Object(I.c)((function(e){return e.authReducer.loggedInUser})),Object(n.useState)(!1)),l=Object(s.a)(i,2),u=l[0],j=l[1],b=Object(I.b)(),h=Object(n.useState)(!1),p=Object(s.a)(h,2),g=p[0],x=p[1],O=Object(I.c)((function(e){return e.loadingReducer.loading})),f=Object(d.g)();return console.log("cardgr.:"),console.log(o),Object(n.useEffect)((function(){var t,r;console.log("stuff and things"),console.log(o),b((t=e.match.params.id,function(){var e=Object(_.a)(T.a.mark((function e(r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:z,payload:!0}),e.next=3,se();case 3:return console.log("cardgroupid",t),e.next=6,N.a.get("/api/currentuser/flashcards/cardgroupid=".concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw new Error(e.data.error);var t=e.data;console.log("lmlmlml"),console.log(t),r({type:te,payload:t})})).catch((function(e){return console.log(e)}));case 6:r({type:z,payload:!1});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),b((r=e.match.params.id,function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.get("/api/cardgroups/"+r).then((function(e){if(console.log("res,",e),e.data.error)throw console.log("error"),new Error(e.data.error);var r=[e.data];console.log("cardgroup found"),console.log(r),t({type:K,payload:r})})).catch((function(e){var r={severity:"error",text:e.toString()};t({type:B,payload:r})}));case 5:t({type:z,payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[b,e.match.params.id]),O?Object(a.jsx)(be,{children:Object(a.jsx)(Se,{})}):Object(a.jsxs)(be,{children:[Object(a.jsx)(Rt,{open:u,onClose:function(e){j(!1)},cardgroupId:e.match.params.id}),Object(a.jsx)(He,{open:g,onClose:function(){return x(!1)},toeditCardgroup:o}),o?Object(a.jsxs)(me.a,{container:!0,spacing:6,children:[Object(a.jsxs)(me.a,{item:!0,xs:8,children:[Object(a.jsxs)(S.a,{variant:"h4",children:["Add Flashcards to ",o.title]}),Object(a.jsxs)(S.a,{variant:"body2",children:[o.numberOfCardsDue," cards are due ",Ee(o.dueDate)]}),Object(a.jsx)("div",{style:{marginTop:"40px"},children:Object(a.jsx)(At,{cards:c})})]}),Object(a.jsxs)(me.a,{item:!0,xs:4,children:[Object(a.jsx)(R.a,{fullWidth:!0,style:{height:"80px"},className:t.addButton,variant:"outlined",onClick:function(){c.length>=o.numberOfCardsDue?alert("All Cards Delivered. Delete or edit existing cards"):j(!0)},children:"+ Add Flashcard"}),Object(a.jsx)(Lt,{x:c.length,y:o.numberOfCardsDue,body:"You've created",style:{margin:"40px 0px"}}),r?Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{variant:"subtitle2",children:"Admin Functionality for This Cardgroup:"}),Object(a.jsx)(fe.a,{}),Object(a.jsx)(R.a,{fullWidth:!0,style:{height:"60px",margin:"10px 0"},className:t.delButton,variant:"contained",onClick:function(){window.confirm("Are you sure you want to delete cardgroup with all cards?")&&(b(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:return console.log("and action"),console.log(e.id),t.next=6,N.a.delete("/api/admin/cardgroups/"+e.id,{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(t){if(console.log("to be deleted"),t.data.error)throw console.log("error"),new Error(t.data.error);var a={severity:"success",text:"successfully deleted cardgroup: "+e.title};r({type:B,payload:a}),r({type:J,payload:e})})).catch((function(e){var t={severity:"error",text:e.toString()};r({type:B,payload:t})}));case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(o)),f.push("/addcards"))},children:"Delete cardgroup and all cards"}),Object(a.jsx)(R.a,{fullWidth:!0,style:{height:"60px",margin:"10px 0"},color:"primary",variant:"contained",onClick:function(){x(!0)},children:"Edit Cardgroup"})]}):Object(a.jsx)("div",{})]}),Object(a.jsx)(me.a,{item:!0,xs:7})]}):Object(a.jsx)("div",{children:"suo"})]})},Bt=function(){var e=Object(I.c)((function(e){return e.authReducer.loggedInUser})),t=Object(I.c)((function(e){return e.authReducer.isAdmin}));return Object(a.jsxs)(be,{children:[t?Object(a.jsx)(S.a,{variant:"h3",children:"Admin profile"}):Object(a.jsx)(S.a,{variant:"h3",children:"User profile"}),e?Object(a.jsxs)("div",{children:[" ",Object(a.jsxs)("h2",{children:["You are logged in, ",e.name]}),Object(a.jsx)("span",{style:{color:"grey"},children:"username: "}),Object(a.jsx)("span",{children:e.username})," ",Object(a.jsx)("br",{}),Object(a.jsx)("span",{style:{color:"grey"},children:"email: "}),Object(a.jsx)("span",{children:e.email})," "]}):Object(a.jsx)("h1",{children:" Not logged in  "})]})},Mt=function(e){var t=e.onClose,r=e.selectedValue,n=e.open,c=e.user,o=Object(I.b)(),i=function(){t(r)},s=function(){o(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:z,payload:!0}),t.next=3,se();case 3:N.a.post("/api/admin/"+e.id,{},{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;r({type:F,payload:t})})).catch((function(e){return console.log(e)})),r({type:z,payload:!1});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(c)),i()},l=function(){o(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:z,payload:!0}),t.next=3,se();case 3:N.a.delete("/api/admin/"+e.id,{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;r({type:F,payload:t})})).catch((function(e){return console.log(e)})),r({type:z,payload:!1});case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(c)),i()};return Object(a.jsx)(Le.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:n,children:Object(a.jsxs)("div",{style:{padding:"30px",width:"500px"},children:[Object(a.jsxs)("h2",{children:["User: ",c.name]}),Object(a.jsx)("span",{style:{color:"grey"},children:"username: "}),Object(a.jsx)("span",{children:c.username})," ",Object(a.jsx)("br",{}),Object(a.jsx)("span",{style:{color:"grey"},children:"email: "}),Object(a.jsx)("span",{children:c.email})," ",Object(a.jsx)("br",{}),Object(a.jsx)("span",{style:{color:"grey"},children:"role: "}),Object(a.jsx)("span",{children:c.role})," ",Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{textAlign:"center",paddingTop:"50px"},children:"Admin"==c.role?Object(a.jsx)(R.a,{onClick:function(){return l()},variant:"outlined",children:"Remove admin"}):Object(a.jsx)(R.a,{onClick:function(){return s()},variant:"outlined",children:"Make admin"})})]})})},Wt=function(e){var t=Object(n.useState)("all"),r=Object(s.a)(t,2),c=r[0],o=r[1],i=Object(I.b)(),l=Object(I.c)((function(e){return e.userReducer.users})),d=Object(n.useState)(!1),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)({}),p=Object(s.a)(h,2),g=p[0],x=p[1],O=Object(n.useState)(""),f=Object(s.a)(O,2),m=f[0],v=f[1],w=function(e){"all"===e?(console.log("all da"),i(function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:N.a.get("/api/admin/users",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("res data alll",e.data),t({type:U,payload:e.data})})).catch((function(e){console.log("Error in get users",e);var r={severity:"error",text:e.toString()};t({type:B,payload:r})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):"User"===e?i(rt("User")):"Admin"===e&&(console.log("aadd"),i(rt("Admin")))};Object(n.useEffect)((function(){w(c)}),[i,c]);var k=l,C=function(e){m?i(function(e,t){return function(){var r=Object(_.a)(T.a.mark((function r(a){return T.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,se();case 2:return r.next=4,N.a.get("/api/admin/users/search/role=".concat(e,"/q=").concat(t),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("res data",e.data),a({type:U,payload:e.data})})).catch((function(e){console.log("Error in get users",e);var t={severity:"error",text:e.toString()};a({type:B,payload:t})}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(c,m)):w(c)};return Object(a.jsxs)(be,{children:[Object(a.jsx)(Mt,{open:j,onClose:function(){return b(!1)},user:g}),Object(a.jsxs)(me.a,{container:!0,spacing:1,children:[Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsxs)(nt.a,{fullWidth:!0,variant:"outlined",children:[Object(a.jsx)(ct.a,{id:"demo-simple-select-label",children:"Filter"}),Object(a.jsxs)(ot.a,{required:!0,color:"secondary",value:c,onChange:function(e){return function(e){v(""),o(e.target.value)}(e)},label:"show",children:[Object(a.jsx)(y.a,{value:"all",children:"All users"}),Object(a.jsx)(y.a,{value:"Admin",children:"Admins"}),Object(a.jsx)(y.a,{value:"User",children:"Users"})]})]})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(Ne.a,{id:"search",label:"Search username",color:"secondary",defaultValue:"",fullWidth:!0,onKeyPress:function(e){"Enter"===e.key&&C()},onChange:function(e){return v(e.target.value)},value:m,variant:"outlined",InputProps:{endAdornment:Object(a.jsx)(ut.a,{onClick:C,children:Object(a.jsx)(at.b,{})})}})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)("div",{style:{height:400,width:"100%"},children:Object(a.jsx)(at.a,{onCellClick:function(e){return function(e){console.log("print",e.row),x(e.row),b(!0)}(e)},rows:k,columns:[{field:"id",headerName:"id",width:70},{field:"username",headerName:"username",width:130},{field:"name",headerName:"name",width:130},{field:"email",headerName:"email",width:130},{field:"role",headerName:"role",width:130}],pageSize:10})})})]})]})},Pt=r(292),Ht=r(284),Ut=Object(l.a)((function(e){return{navlink:{color:e.palette.textColor,textDecoration:"none"},button:{width:"100%",height:"50px"}}})),Ft=function(e){var t=Ut(),r=c.a.useState(0),o=Object(s.a)(r,2),i=o[0],l=o[1],j=Object(d.g)(),b=[{url:"/adminpage/users",label:"All Users"},{url:"/adminpage/deliverystatus",label:"Delivery Status"},{url:"/adminpage/allcards",label:"All Cards"},{url:"/adminpage/peerreviews",label:"Peerreviews"}];return Object(n.useEffect)((function(){l(b.findIndex((function(e){return e.url===j.location.pathname})))}),[j.location.pathname]),Object(a.jsxs)(he,{children:[Object(a.jsx)(S.a,{variant:"h4",style:{flexGrow:0},children:"Amin Page"}),Object(a.jsx)(C.a,{style:{padding:0},children:Object(a.jsx)(Pt.a,{style:{width:"100%"},value:i,exclusive:!0,"aria-label":"text alignment",children:b.map((function(e,r){return Object(a.jsx)(Ht.a,{component:u.b,value:r,to:e.url,className:t.button,variant:"outlined",children:e.label})}))})})]})},qt=function(){return Object(d.g)().push("/adminpage/users"),Object(a.jsx)("div",{})},Gt=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.userReducer.status})),r=Object(n.useState)(0),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(I.c)((function(e){return e.loadingReducer.loading}));Object(n.useEffect)((function(){var r;e((r=o,function(){var e=Object(_.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=4;break}t({type:q,payload:[]}),e.next=10;break;case 4:return t({type:z,payload:!0}),e.next=7,se();case 7:return e.next=9,N.a.get("/api/admin/cardgroup/".concat(r,"/deliverystatus"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw console.log("error"),new Error(e.data.error);var r=e.data;console.log("mah status"),console.log(r),t({type:q,payload:r})})).catch((function(e){return console.log(e)}));case 9:t({type:z,payload:!1});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),console.log("status"),console.log(t)}),[e,o]),console.log("usars");var d=t.map((function(e){return{id:e.user.id,username:e.user.username,delivered:e.delivered,toDeliver:e.cardgroup.numberOfCardsDue,complete:e.delivered==e.cardgroup.numberOfCardsDue}}));return console.log("cgid",o),Object(a.jsxs)(be,{children:[Object(a.jsx)("div",{style:{marginBottom:"15px"},children:Object(a.jsx)(st,{onChange:i,showFirst:!0})}),l?Object(a.jsx)(Se,{}):t.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{variant:"subtitle2",style:{marginTop:"20px"},children:t[0]?"Due: "+Ee(t[0].cardgroup.dueDate):"Due:"}),Object(a.jsx)("div",{style:{height:"400px",width:"100%"},children:Object(a.jsx)(at.a,{rows:d,columns:[{field:"username",headerName:"Username",width:130},{field:"delivered",headerName:"Delivered",type:"number",width:130},{field:"toDeliver",headerName:"To Deliver",type:"number",width:130},{field:"complete",headerName:"Complete",type:"number",width:130}],pageSize:10})})]}):""]})},Vt=function(){return function(){var e=Object(_.a)(T.a.mark((function e(t,r){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.get("/api/currentuser/peerreviews",{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var r=e.data;console.log("was found, ",r),t({type:ce,payload:r})})).catch((function(e){console.log("This is an error yes plz");var r={severity:"error",text:e.toString()};t({type:B,payload:r})}));case 5:t({type:z,payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},Yt=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh"}}}})),Kt=function(e){var t=e.onClose,r=e.selectedValue,o=e.open,i=Object(I.b)(),l=c.a.useState(null),d=Object(s.a)(l,2),u=d[0],j=d[1],b=Object(n.useState)(0),h=Object(s.a)(b,2),p=h[0],g=h[1],x=Object(n.useState)("23:59"),O=Object(s.a)(x,2),f=O[0],m=O[1],y=Object(I.c)((function(e){return e.alertReducer.severity})),v=Object(I.c)((function(e){return e.alertReducer.newAlert})),w=Object(n.useState)(0),k=Object(s.a)(w,2),C=k[0],A=k[1],E=Yt();Object(n.useEffect)((function(){console.log("stformSubmitCallback"),"success"===y&&D()}),[v]);var D=function(){j(null),A(0),g(0),m("23:59"),t(r)};return Object(a.jsxs)(Le.a,{onClose:D,className:E.dialog,open:o,style:{margin:"100px"},children:[Object(a.jsx)(We,{}),Object(a.jsxs)("div",{style:{margin:"40px 40px"},children:[Object(a.jsx)(me.a,{container:!0,spacing:2,children:Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsx)(S.a,{variant:"h6",align:"left",children:" Add Peer Review Session for Students "}),Object(a.jsx)(S.a,{variant:"body2",align:"left",color:"textSecondary",children:" This will generate peer review sessions for all students for the choosen cardgroup. Each student will get n number of cards to rate before the due date."})]})}),Object(a.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),C&&u&&p&&f){console.log("herfra");var t=u;t.setMinutes(f.split(":")[1]),t.setHours(f.split(":")[0]),i(function(e){var t=e.groupId,r=e.dueDate,a=e.numberOfReviews;return function(){var e=Object(_.a)(T.a.mark((function e(n,c){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.post("/api/admin/peerreviews",{groupId:t,dueDate:r,numberOfReviews:a},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;n({type:B,payload:{severity:"success",text:"successfully created peerreviews"}}),console.log("s\xf8k",t),"success"===e.data.status&&n(Vt())})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};n({type:B,payload:t})}));case 5:n({type:z,payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({groupId:C,dueDate:t,numberOfReviews:p}))}},children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsx)(me.a,{item:!0,xs:12}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(st,{onChange:A})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Ne.a,{fullWidth:!0,color:"secondary",id:"outlined-number",label:"Number of flashcards to review pr student",type:"number",required:!0,onChange:function(e){return g(e.target.value)},variant:"outlined"})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(Be.a,{utils:ze.a,children:Object(a.jsx)(Me.a,{fullWidth:!0,disableToolbar:!0,required:!0,inputVariant:"outlined",variant:"outlined",format:"MM/dd/yyyy",id:"date-picker-inline",label:"Due date for delivery",value:u,onChange:function(e){j(e)},onClick:console.log("close"),color:"secondary",autoOk:!0,animateYearScrolling:!0,KeyboardButtonProps:{"aria-label":"change date"}})})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(Ne.a,{fullWidth:!0,id:"time",label:"",type:"time",variant:"outlined",onChange:function(e){return m(e.target.value)},defaultValue:"23:59",color:"secondary",InputLabelProps:{shrink:!0}})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(R.a,{variant:"contained",onClick:D,fullWidth:!0,color:"primary",children:" Back"})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsxs)(R.a,{type:"submit",fullWidth:!0,style:{backgroundColor:C&&p&&u?"green":"grey",color:"white"},children:["Submit",Object(a.jsx)(Se,{style:{marginLeft:"10px",height:"26px"},size:24,alternative:""})]})})]})})]})]})},Jt=function(e){var t=e.peerreviews,r=(e.showDueDate,e.onClick);return Object(I.c)((function(e){return e.loadingReducer.loading}))?Object(a.jsx)(Se,{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(fe.a,{}),Object(a.jsxs)(me.a,{container:!0,spacing:0,children:[Object(a.jsx)(fe.a,{}),t.length?t.map((function(e){return Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsx)(ye.a,{onClick:function(){return r(e.id)},style:{padding:"10px",minHeight:"100px"},children:Object(a.jsx)(me.a,{container:!0,spacing:2,children:Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsxs)(S.a,{variant:"subtitle1",component:"h2",children:["Peer Review of cards from ",Object(a.jsxs)("i",{children:[e.cardgroup.title," "]})]}),Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",component:"h2",children:[e.reviewsDue," Cards are due for peer review: ",Ee.call(undefined,e.dueDate)]})]})})}),Object(a.jsx)(fe.a,{})]},e.id)})):Object(a.jsx)(S.a,{variant:"subtitle1",children:" No peer reviews due"})]})]})},Qt=Object(l.a)((function(e){return{addButton:{backgroundColor:e.palette.button.success.main,color:"white",border:"none",align:"center","&:hover":{background:e.palette.button.success.dark}}}})),Zt=function(){var e=Qt(),t=Object(I.b)(),r=Object(n.useState)(!1),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(I.c)((function(e){return e.peerreviewReducer.peerreviews})),u=Object(I.c)((function(e){return e.authReducer.isAdmin})),j=Object(n.useState)([]),b=Object(s.a)(j,2),h=(b[0],b[1]);Object(n.useEffect)((function(){t(Vt())}),[t]);var p=Object(d.g)();return Object(n.useEffect)((function(){l.length&&h(l.map((function(e){return e.cardgroup})))}),[l]),Object(a.jsxs)(be,{children:[Object(a.jsx)(Kt,{open:o,onClose:function(){return i(!1)}}),Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsxs)(me.a,{item:!0,xs:8,children:[Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:"Peer Review of Flashcards"}),Object(a.jsx)(S.a,{variant:"body2",color:"textSecondary",children:"Rate other students' cards"})]}),Object(a.jsx)(me.a,{item:!0,xs:4,children:u?Object(a.jsx)(R.a,{fullWidth:!0,className:e.addButton,variant:"outlined",onClick:function(){return i(!0)},children:"+ Add Peer Review Session"}):Object(a.jsx)("div",{})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(Jt,{peerreviews:l,onClick:function(e){p.push("/peerreview/"+e)}})})]})]})},Xt=r(293),$t=r(164),er=r.n($t),tr=r(165),rr=r.n(tr),ar=r(24),nr={ratings:[]},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return console.log("savind",t.payload),e.ratings.filter((function(e){return e.id===t.payload.id})).length>0?(console.log("IN ARR"),console.log(e.ratings),console.log(e.ratings.map((function(e){return e.id===t.payload.id?t.payload:e}))),Object(Ue.a)(Object(Ue.a)({},e),{},{ratings:e.ratings.map((function(e){return e.id===t.payload.id?t.payload:e}))})):(console.log("NOT IN ARR"),Object(Ue.a)(Object(Ue.a)({},e),{},{ratings:[].concat(Object(ar.a)(e.ratings),[t.payload])}));case ie:return console.log("got ratings",t.payload),Object(Ue.a)(Object(Ue.a)({},e),{},{ratings:t.payload});default:return console.log("default alert"),e}},or=r(175),ir=r(232),sr=function(e){var t=e.text,r=e.style;return Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:xt.a.sanitize(t)},style:r})},lr=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh",maxWidth:"100%"}},customizedButton:{position:"absolute",left:"80%",top:"5%"},root:{padding:e.spacing(3,2),display:"flex",flexDirection:"column",justifyContent:"center"}}})),dr=function(e){var t=e.card,r=e.index,c=e.isDuplicate,o=e.editDuplicates,i=lr(),l=Object(n.useState)(c),d=Object(s.a)(l,2),u=d[0],j=d[1];return Object(n.useEffect)((function(){o(t.id,u)}),[u]),Object(a.jsx)("div",{children:Object(a.jsxs)(me.a,{container:!0,spacing:2,onClick:function(){return j(!u)},children:[Object(a.jsx)(me.a,{item:!0,xs:6,className:i.root,children:Object(a.jsx)(S.a,{variant:"body2",children:Object(a.jsxs)("b",{children:["Card #",r]})})}),Object(a.jsx)(me.a,{item:!0,xs:6,children:Object(a.jsx)(or.a,{size:"small",color:"primary",checked:u,onChange:function(e){return j(e.target.checked)}})})]})})},ur=function(e){var t=e.onClose,r=e.open,n=e.setDuplicateCards,c=e.duplicateCards,o=e.flashcard,i=e.selectedValue,s=lr(),l=Object(I.c)((function(e){return e.cardReducer.cards})),d=function(e,t){t?t&&(c.includes(e)||n([].concat(Object(ar.a)(c),[e]))):n(c.filter((function(t){return t!==e})))};return console.log(l),Object(a.jsx)(ir.a,{onClose:function(){t(i)},className:s.dialog,open:r,children:Object(a.jsxs)("div",{style:{minWidth:"200px",maxWidth:"200px",margin:"30px"},children:[Object(a.jsx)(S.a,{variant:"h5",children:"Mark Duplicate cards:"}),Object(a.jsx)(S.a,{variant:"body2",color:"textSecondary",children:" Check cards that are very similar or duplicate of choosen card"}),Object(a.jsx)(fe.a,{}),l.map((function(e,t){return Object(a.jsx)("div",{children:e.id!==o.id?Object(a.jsxs)("div",{children:[Object(a.jsx)(dr,{card:e,index:t+1,isDuplicate:c.includes(e.id),editDuplicates:d}),Object(a.jsx)(fe.a,{})]}):""})})),Object(a.jsx)("div",{style:{marginTop:"50px"},children:Object(a.jsx)(R.a,{variant:"contained",onClick:t,fullWidth:!0,color:"primary",children:" Close"})})]})})},jr=Object(l.a)((function(e){return{duplicateButton:{fontSize:"10px",marginTop:"10px"},marked:{backgroundColor:e.palette.backgroundHover},body:{minHeight:"100px"}}})),br={.5:"Extremely Easy",1:"Very Easy",1.5:"Easy",2:"A Little Easy",2.5:"Ok",3:"Ok+",3.5:"A Little Hard",4:"Hard",4.5:"Very Hard",5:"Extremely Hard"},hr={.5:"Useless",1:"Useless+",1.5:"Poor",2:"Poor+",2.5:"Ok",3:"Ok+",3.5:"Good",4:"Good+",4.5:"Excellent",5:"Excellent+"},pr=function(e){var t=e.card,r=e.index,c=e.save,o=e.previewCard,i=e.cardIdToIndex,l=jr(),d=Object(n.useState)(!1),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(n.useState)(0),p=Object(s.a)(h,2),g=p[0],x=p[1],O=Object(n.useState)(-1),f=Object(s.a)(O,2),m=f[0],y=f[1],v=Object(n.useState)(0),w=Object(s.a)(v,2),k=(w[0],w[1],Object(n.useState)("")),C=Object(s.a)(k,2),A=C[0],E=C[1],D=Object(n.useState)([]),L=Object(s.a)(D,2),M=L[0],W=L[1],P=Object(n.useState)(!1),H=Object(s.a)(P,2),U=H[0],F=H[1],q=(Object(I.c)((function(e){return e.loadingReducer.loading})),Object(n.useState)(0)),G=Object(s.a)(q,2),V=G[0],Y=G[1],K=Object(n.useState)(-1),J=Object(s.a)(K,2),Q=J[0],Z=J[1],X=Object(I.b)(),$=Object(I.c)((function(e){return e.ratingReducer.ratings.find((function(e){return e.card_id==t.id}))}));Object(n.useEffect)((function(){var e;console.log("fml"),X((e=t.id,function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:return t.next=4,N.a.get("/api/currentuser/cardrating/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);if(console.log("returned"),console.log(e.data),"no rating"!==e.data.status){var t=e.data;console.log("was found, ",t),r({type:oe,payload:t})}})).catch((function(e){console.log("Not found")}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()))}),[]),Object(n.useEffect)((function(){$&&(x($.difficulty),Y($.quality_rating),E($.savedatestring),console.log("hiiieeer"),console.log($),W($.duplicates))}),[$]),Object(n.useEffect)((function(){c&&ee()}),[c]);var ee=function(){if(g&&V){console.log("rate this card");var e={difficulty:g,quality:V,duplicateCardIds:M,cardId:t.id};X(function(e){var t=e.rating;return e.cardNumber,function(){var e=Object(_.a)(T.a.mark((function e(r,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.post("/api/currentuser/cardrating/"+t.cardId,{difficulty:t.difficulty,quality:t.quality,cardId:t.cardId,duplicateCardIds:t.duplicateCardIds.join()},{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("returned"),console.log(e.data);var t=e.data;console.log("was created, ",t),r({type:B,payload:{severity:"success",text:"Ratings saved successfully"}}),r({type:oe,payload:t})})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};r({type:B,payload:t})}));case 5:console.log("async call up in hier",t),r({type:z,payload:!1});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}({rating:e,cardNumber:r}))}};return Object(a.jsx)(de.a,{className:U?l.marked:"",style:{padding:"20px 10px"},children:Object(a.jsxs)(me.a,{className:l.container,container:!0,spacing:2,children:[Object(a.jsx)(ur,{open:U,onClose:function(){return F(!1)},duplicateCards:M,setDuplicateCards:W,flashcard:t}),Object(a.jsxs)(me.a,{item:!0,xs:1,children:[Object(a.jsx)(S.a,{variant:"subtitle2",children:"#"}),Object(a.jsx)(S.a,{variant:"body2",children:r})]}),Object(a.jsxs)(me.a,{item:!0,xs:4,children:[Object(a.jsx)(S.a,{variant:"subtitle2",children:"Question"}),Object(a.jsx)(S.a,{variant:"body2",children:Object(a.jsx)(sr,{text:t.front,style:{overflow:"hidden"}})})]}),Object(a.jsxs)(me.a,{item:!0,xs:4,children:[Object(a.jsx)(S.a,{variant:"subtitle2",children:j?"Answer":"Reveal Answer"}),j?Object(a.jsxs)(S.a,{className:l.body,variant:"body2",children:[" ",j?Object(a.jsx)(sr,{text:t.back,style:{overflow:"hidden"}}):""]}):Object(a.jsx)("div",{}),Object(a.jsx)(dt.a,{title:j?"Hide Answer":"Reveal Answer",placement:"right",children:Object(a.jsx)(ut.a,{onClick:function(){return b(!j)},variant:"outlined",className:l.revealButton,size:"small",children:j?Object(a.jsx)(er.a,{size:"small",color:"primary"}):Object(a.jsx)(kt.a,{size:"small",color:"primary"})})})]}),Object(a.jsxs)(me.a,{item:!0,xs:3,children:[Object(a.jsx)(S.a,{variant:"subtitle2",children:"Rate"}),Object(a.jsx)(S.a,{variant:"body2",children:" Difficulty"}),Object(a.jsx)(dt.a,{title:br[m],placement:"right",children:Object(a.jsx)(Xt.a,{value:g/2,precision:.5,size:"small",onChange:function(e,t){x(2*t)},onChangeActive:function(e,t){y(t)}})}),Object(a.jsx)(S.a,{variant:"body2",children:"Relevance and Quality"}),Object(a.jsx)(dt.a,{title:hr[Q],placement:"right",children:Object(a.jsx)(Xt.a,{value:V/2,precision:.5,size:"small",onChange:function(e,t){Y(2*t)},onChangeActive:function(e,t){Z(t)}})}),Object(a.jsxs)(S.a,{variant:"body2",children:["Duplicate Card",M.length>=2?"s":"",": "]}),Object(a.jsx)(de.a,{style:{minHeight:"30px",minWidth:"30px"},children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[M.map((function(e){return Object(a.jsxs)("b",{children:["#",i(e),", "]})}))," "]})}),Object(a.jsx)(R.a,{className:l.duplicateButton,onClick:function(){F(!0)},variant:"contained",color:"primary",fullWidth:!0,endIcon:Object(a.jsx)(rr.a,{}),children:"Mark as duplicate"})]}),Object(a.jsx)(me.a,{item:!0,xs:9,children:Object(a.jsxs)(S.a,{variant:"caption",color:"textSecondary",children:[A?"Last saved "+A:""," "]})}),Object(a.jsx)(me.a,{item:!0,xs:3,children:Object(a.jsx)(R.a,{fullWidth:!0,variant:"outlined",color:"secondary",onClick:function(){return o(t)},endIcon:Object(a.jsx)(kt.a,{}),children:"Full Card View"})})]})})},gr=r(117),xr=r.n(gr),Or=Object(l.a)((function(e){return{savebutton:{}}})),fr=function(e){var t=Or(),r=e.match.params.id,o=Object(I.c)((function(e){return e.ratingReducer.ratings})),i=Object(n.useState)(!1),l=Object(s.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)({}),b=Object(s.a)(j,2),h=b[0],p=b[1],g=Object(n.useState)(!1),x=Object(s.a)(g,2),O=x[0],f=x[1],m=Object(I.b)();Object(n.useEffect)((function(){var e,t;m(function(){var e=Object(_.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("alert tthh"),t({type:"CLEAR_CARDS"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m((e=r,function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({type:z,payload:!0}),t.next=3,se();case 3:return t.next=5,N.a.get("/api/currentuser/peerreviews/"+e,{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;console.log("was found, ",t),r({type:ce,payload:[t]})})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};r({type:B,payload:t})}));case 5:r({type:z,payload:!1});case 6:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}())),m((t=r,function(){var e=Object(_.a)(T.a.mark((function e(r,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:z,payload:!0}),e.next=3,se();case 3:return e.next=5,N.a.get("/api/peerreview/".concat(t,"/flashcards"),{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){var t=e.data;console.log("lmlmlml"),console.log(t),r({type:te,payload:t})})).catch((function(e){var t={severity:"error",text:e.toString()+" when attempting to get card"};r({type:B,payload:t})}));case 5:r({type:z,payload:!1});case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())),m(function(e){return function(){var t=Object(_.a)(T.a.mark((function t(r,a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se();case 2:return console.log("Is this aused"),t.next=5,N.a.get("/api/currentuser/peerreview/".concat(e,"/cardratings"),{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(console.log("hes"),e.data.error)throw new Error(e.data.error);console.log("returned"),console.log(e.data);var t=e.data;console.log("was found getratingsinpeererview, ",t),r({type:ie,payload:t})})).catch((function(e){console.log("Not found")}));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(r))}),[]);var y=Object(I.c)((function(e){return e.cardReducer.cards})),v=Object(I.c)((function(e){return e.peerreviewReducer.peerreviews[0]}));console.log("mhmhmhm");var w=Object(I.c)((function(e){return e.loadingReducer.loading}));Object(n.useEffect)((function(){w||u(!1)}),[w]),Object(n.useEffect)((function(){console.log("tiss"),console.log(o)}),[o]);var k=function(e){p(e),f(!0)},C=function(e){return console.log(e),y.map((function(e){return e.id})).indexOf(e)+1};return y.length?Object(a.jsxs)(be,{children:[Object(a.jsx)(vt,{open:O,onClose:function(){return f(!1)},card:h}),Object(a.jsx)(S.a,{variant:"h4",children:"Peer Review of Cards from "}),Object(a.jsx)(S.a,{variant:"h4",children:v.cardgroup.title}),Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[v.reviewsDue," cards are due to be rated. Read the question, attempt to answer it to yourself, then you may reveal the answer. After testing the card, you are to rate the card",Object(a.jsx)("br",{}),'If the card is hard to read, press "FULL CARD VIEW"  button for a full preview of the card. ',Object(a.jsx)("br",{}),Object(a.jsx)("u",{children:"Remember to save ratings before exiting this page."}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("b",{children:"Level of Difficulty"})," A rating on the difficulty of the card. From extremely easy to extremely hard.",Object(a.jsx)("br",{}),Object(a.jsx)("b",{children:"Relevance and Quality"})," A rating of how relevant the card is to the course curriculum and the quality of the flashcard. Will studying this card be useful for learning the course material? Is the question well-phrased? Is it too long and complex? Is it original?",Object(a.jsx)("br",{}),Object(a.jsx)("b",{children:"Mark as Duplicate"}),'  If two or more cards are very similar or duplicate of each other, press "mark as duplicate" on one of the cards and choose one or more of the other cards.',Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{})]}),Object(a.jsx)(Lt,{x:o.length,y:v.reviewsDue,body:"Card ratings submitted",style:{width:"300px",marginLeft:"auto",marginBottom:"30px"}}),Object(a.jsx)(fe.a,{}),y.length?y.map((function(e,t){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(pr,{card:e,index:t+1,save:d,cardIdToIndex:C,previewCard:k},e.id),Object(a.jsx)(fe.a,{})]})})):Object(a.jsx)("div",{children:"empty"}),Object(a.jsx)("div",{style:{margin:"10px",textAlign:"left"},children:Object(a.jsxs)("div",{style:{padding:"0 200px"},children:[Object(a.jsxs)(R.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:function(){console.log("save..."),u(!0)},className:t.savebutton,children:["Save Ratings",Object(a.jsx)(Se,{style:{marginLeft:"10px",height:"26px"},size:24,alternative:Object(a.jsx)(xr.a,{})})]})," ",Object(a.jsx)("br",{})]})})]}):Object(a.jsx)(be,{children:Object(a.jsx)(Se,{})})},mr=function(){return Object(a.jsx)(be,{children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:" Study - Coming Soon... "}),Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:["Page for studying cards.                     ",Object(a.jsx)("br",{}),"Todo:",Object(a.jsx)("br",{}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Spaced Repition review"}),Object(a.jsx)("li",{children:'"random" cards review from each chapter'})]})]})]}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(fe.a,{})})]})})},yr=r(166),vr=r.n(yr),wr=Object(l.a)((function(e){return{dialog:{"& .MuiDialog-paperScrollPaper":{maxHeight:"100vh",maxWidth:"100%"}}}})),kr=function(e){var t=e.buttonstyle,r=(e.dialogstyle,Object(n.useState)(!1)),c=Object(s.a)(r,2),o=c[0],i=c[1],l=wr();return Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{variant:"contained",color:"primary",fullWidth:!0,onClick:function(){return i(!0)},endIcon:Object(a.jsx)(vr.a,{}),children:"Send Feedback"}),Object(a.jsxs)(Le.a,{onClose:function(){return i(!1)},open:o,className:l.dialog,style:t,children:[Object(a.jsx)("div",{style:{marginLeft:"auto"},children:Object(a.jsx)(dt.a,{title:"Close",children:Object(a.jsx)(ut.a,{onClick:function(){return i(!1)},children:Object(a.jsx)(mt.a,{})})})}),Object(a.jsx)("div",{style:{margin:"20px 0"},children:Object(a.jsx)("iframe",{src:"https://docs.google.com/forms/d/e/1FAIpQLSeNwVsGczbV1229hlstKRI56IT8rCP6SMuAJzC0nuAxKoUMbg/viewform?embedded=true",width:"640",height:"587",frameborder:"0",marginheight:"0",marginwidth:"0",children:"Loading\u2026"})})]})]})},Cr=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2);t[0],t[1];return Object(a.jsx)(be,{children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:"Home"})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"About:"})," ",Object(a.jsx)("br",{}),"This application will be used to build a collective deck of quality flashcards, covering the curriculum of TTK4145 - Real-time Programming.",Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),"During the semester you are tasked with creating 2-5 flashcards for specific parts of the course material. Through peer review, the best flashcards will be selected to be added to the collective deck. You will be rewarded for creating original, quality flashcards.",Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),"Keep flashcards simple. Flashcards can be written as pure text or with HTML syntax. If you are new to HTML, ",Object(a.jsxs)(u.b,{to:"/htmlguide",color:"primary",children:[" ",Object(a.jsx)(Ye.a,{color:"textPrimary",children:"check out this basic guide "})]}),Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),Object(a.jsx)("span",{children:"You will be able to use the collective deck to study the course material, either a random sample or through spaced repetition, which is recommended. "}),Object(a.jsx)(Ye.a,{color:"textPrimary",href:"https://en.wikipedia.org/wiki/Spaced_repetition",children:"Read more about spaced repetition here"}),Object(a.jsx)("br",{})," ",Object(a.jsx)("br",{}),"Please submit feedback, suggestions or report bugs with the button below",Object(a.jsx)("div",{style:{margin:"40px 50px 0px"},children:Object(a.jsx)(kr,{})})]})}),Object(a.jsx)(me.a,{item:!0,xs:12,style:{marginTop:"50px"},children:Object(a.jsx)(S.a,{variant:"body2",color:"textSecondary",children:Object(a.jsx)("b",{children:"Contact:"})})}),Object(a.jsx)(me.a,{item:!0,xs:4,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"Asgeir Hunshamar"})," ",Object(a.jsx)("br",{}),"Creator and developer ",Object(a.jsx)("br",{}),Object(a.jsx)("a",{children:"asgeirhu@stud.ntnu.no"})]})}),Object(a.jsx)(me.a,{item:!0,xs:4,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"Sverre Hendseth"})," ",Object(a.jsx)("br",{}),"Course coordinator and lecturer ",Object(a.jsx)("br",{}),Object(a.jsx)(Ye.a,{color:"inherit",href:"mailto:sverre.hendseth@ntnu.no",children:"sverre.hendseth@ntnu.no"})]})})]})})},Sr=r(279),Rr=r(118),Ar=r.n(Rr),Er=Object(Ke.a)(de.a)({fontWeight:"bold",width:"150px",display:"inline-block"}),Ir='   \n <div style="font-size: 70%">\n    <h1> This is a Heading </h1>\n    <h2> This is a smaller Heading </h2>\n\n    <p>\n        This is a normal paragraph you can add <i> a italic text </i>, \n        <b> bold text </b>,<u> underlined text </u> <small> small \n        text </small>  with tags inside the paragraph.\n    </p>\n\n    <p \n        style="background-color: red; \n        color: white; \n        font-size: 12px; \n        text-align: center"\n    >\n        You can add inline styling to paragraphs and other HTML tags. \n        Changing colors, font-size, alignment and more </br>\n        You can also add a break tag for... <br/> <br/>\n        ...new lines\n    </p>\n\n    <h2> You can also add images: </h2>\n\n    <p style="color: #404040">\n        You need a url to images to add them. They can be resized by \n        setting the height and width property of the image tag   \n    </p>\n\n    <img \n        src="https://i.postimg.cc/ZRqR7dgZ/91-I89-Qh5-Jz-L.png" \n        width="50%" \n    />\n\n    <h2> Unordered list</h2>\n    <ul>\n        <li> List item 1 </li>  \n        <li> List item 2 </li>  \n    </ul>\n\n    <div style="text-align: left; color: purple">\n        <p> \n            By default the HTML of the cards will be centered, wrap all or\n            some elements inside a div styled with \'text-align: left\' to \n            bypass this \n        </p>\n        <h2> Ordered list, Aligned left </h2>\n        \n        <ol>\n            <li> List item 1 </li>  \n            <li> List item 2 </li>  \n        </ol>\n    </div>\n</div>\n',Dr=function(){var e=Object(n.useState)(Ir),t=Object(s.a)(e,2),r=t[0],c=t[1];Object(n.useRef)();return Object(a.jsx)(be,{children:Object(a.jsxs)(me.a,{container:!0,spacing:2,children:[Object(a.jsxs)(me.a,{item:!0,xs:12,children:[Object(a.jsx)(S.a,{variant:"h4",gutterBottom:!0,children:"HTML Guide With Examples"}),Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:["This is meant as a short guide for simple HTML / CSS that can be added to flashcards. Check out ",Object(a.jsx)(Ye.a,{color:"textPrimary",href:"https://www.w3schools.com/html/",children:"W3schools HTML tutorial"})," for a better tutorial and more examples"]})]}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"Usefull HTML components (Tags):"})," ",Object(a.jsx)("br",{}),Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<h1>...</h1>"}),"Headings - h1 is the largest. h6 is the smallest "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<div>...</div>"}),"Division. Can be used as containers, to style multiple objects "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<p>...</p>"}),"Paragraphs "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<b>...</b>"}),Object(a.jsx)("b",{children:"bold"})," "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<i>...</i>"}),Object(a.jsx)("i",{children:"Italics"})," "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<u>...</u>"}),Object(a.jsx)("u",{children:"Underlined"})," "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<br/>"}),"Line Break "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:'<img src="">...</img>'}),"Image. Must be url. Recomended to use ",Object(a.jsx)(Ye.a,{color:"textPrimary",href:"https://postimages.org/",children:"postimages"}),". Upload->copy Direct Link"]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<ul>...</ul>"}),"Unordered list "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<ol>...</ol>"}),"Ordered list "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<li>...</li>"}),"List item "]}),Object(a.jsxs)("li",{children:[Object(a.jsx)(Er,{children:"<code>...</code>"}),"Code.  The content inside is displayed in the browser's default monospace font  "]})]})]})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"Styling:"})," ",Object(a.jsx)("br",{}),"If you wish to style components, you can add a style prop. For example: ",Object(a.jsx)("br",{}),Object(a.jsx)("code",{children:'<p style="color: white; background-color: red"> Hello </p>'})," ",Object(a.jsx)("br",{}),"will return a paragraph, with red background color and white text color.",Object(a.jsx)("br",{}),"Check out ",Object(a.jsx)(Ye.a,{color:"textPrimary",href:"https://www.w3schools.com/html/html_css.asp",children:"W3Schools CSS Tutorial     "}),"     ",Object(a.jsx)("br",{}),"for more examples"]})}),Object(a.jsx)(me.a,{item:!0,xs:12,children:Object(a.jsxs)(S.a,{variant:"body2",color:"textSecondary",children:[Object(a.jsx)("b",{children:"Test:"})," ",Object(a.jsx)("br",{}),"Below is an example with some HTML tags ",Object(a.jsx)("br",{}),"You are welcome to change the HTML in the textfield and try your own     ",Object(a.jsx)("br",{}),"A much  better alternative is to use ",Object(a.jsx)(Ye.a,{color:"textPrimary",href:"https://www.w3schools.com/tryit/tryit.asp?filename=tryhtml_default",children:"W3Schools Online HTML Code Editor     "}),"     ",Object(a.jsx)("br",{}),"You can also create a HTML file in VS Code and open it using the web browser. ",Object(a.jsx)("br",{}),"Keep the HTML simple for flashcards."]})}),Object(a.jsxs)(me.a,{item:!0,xs:7,children:[Object(a.jsxs)(S.a,{variant:"caption",color:"textSecondary",children:[Object(a.jsx)("b",{children:"HTML Input:"})," ",Object(a.jsx)("br",{})]}),Object(a.jsx)(Ct,{onChange:c,value:r,fullWidth:!0,required:!0,multiline:!0,InputProps:{style:{padding:"2px",fontSize:"12px"},endAdornment:Object(a.jsx)(Sr.a,{position:"end",style:{margin:"auto 0 15px"},children:Object(a.jsx)("div",{children:Object(a.jsx)(dt.a,{title:"Reset Example",children:Object(a.jsx)(ut.a,{onClick:function(e){return c(Ir)},children:Object(a.jsx)(Ar.a,{color:"secondary"})})})})})}})]}),Object(a.jsxs)(me.a,{item:!0,xs:5,children:[Object(a.jsxs)(S.a,{variant:"caption",color:"textSecondary",children:[Object(a.jsx)("b",{children:"HTML Result:"})," ",Object(a.jsx)("br",{})]}),Object(a.jsx)(de.a,{border:1,borderColor:"secondary.light",borderRadius:5,align:"center",style:{height:"auto",backgroundColor:"white",color:"black"},children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:r}})})]})]})})},Tr=function(){var e=Object(I.b)(),t=Object(I.c)((function(e){return e.peerreviewReducer.peerreviews})),r=Object(n.useState)(0),c=Object(s.a)(r,2),o=c[0],i=c[1],l=Object(I.c)((function(e){return e.loadingReducer.loading}));Object(n.useEffect)((function(){var t;e((t=o,function(){var e=Object(_.a)(T.a.mark((function e(r,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({type:z,payload:!0}),t){e.next=5;break}r({type:ce,payload:[]}),e.next=9;break;case 5:return e.next=7,se();case 7:return e.next=9,N.a.get("/api/admin/peerreviews/"+t,{headers:{Authorization:"Bearer "+localStorage.getItem("user_token")}}).then((function(e){if(e.data.error)throw new Error(e.data.error);if(console.log("returned"),console.log(e.data),e.data.error)throw console.log("error"),new Error(e.data.error);var t=e.data;console.log("was found, ",t),r({type:ce,payload:t})})).catch((function(e){console.log("This is an error yes plz");var t={severity:"error",text:e.toString()};r({type:B,payload:t})}));case 9:r({type:z,payload:!1});case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()))}),[e,o]),console.log("peerreviews",t);var d=t.map((function(e){return{id:e.user.id,username:e.user.username,toRate:e.reviewsDue,rated:e.reviewsDone,complete:e.reviewsDue==e.reviewsDone}}));return console.log("cgid",o),Object(a.jsxs)(be,{children:[Object(a.jsx)("div",{style:{marginBottom:"15px"},children:Object(a.jsx)(st,{onChange:i,showFirst:!0})}),l?Object(a.jsx)(Se,{}):Object(a.jsx)("div",{children:t.length?Object(a.jsxs)("div",{children:[Object(a.jsx)(S.a,{variant:"subtitle2",style:{marginTop:"20px"},children:t[0]?"Due: "+Ee(t[0].dueDate):"Due:"}),Object(a.jsx)("div",{style:{height:400,width:"100%"},children:Object(a.jsx)(at.a,{rows:d,columns:[{field:"username",headerName:"Username",width:130},{field:"toRate",headerName:"To Rate",type:"number",width:130},{field:"rated",headerName:"Rated",type:"number",width:130},{field:"complete",headerName:"Complete",type:"number",width:130}],pageSize:10})})]}):"No Peerreviews for this cardgroup"})]})},_r=Object(l.a)((function(e){return{}})),Lr=function(){return Object(a.jsx)("div",{children:"FML"})},Nr=function(){var e=_r(),t=Object(I.c)((function(e){return e.authReducer.loggedIn})),r=Object(I.c)((function(e){return e.authReducer.isAdmin})),o=Object(I.b)();return Object(n.useEffect)((function(){o(function(){var e=Object(_.a)(T.a.mark((function e(t,r){var a,n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se();case 2:a=localStorage.getItem("user_token"),n=localStorage.getItem("refresh_token"),console.log("user_token?",Boolean(a)),console.log("refresh_token?",Boolean(n)),a&&n?(console.log("found both tokens"),N.a.get("/api/currentuser/user",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("user_token"))}}).then((function(e){if(e.data.error)throw new Error(e.data.error);console.log("found user?",e.data),console.log("true? ","Admin"===e.data.role);var r={loggedIn:!0,loggedInUser:e.data,isAdmin:"Admin"==e.data.role};t({type:H,payload:r})})).catch((function(e){console.log("error..",e),t({type:H,payload:{loading:!1,loggedInUser:{}}})}))):(console.log("no user logged in"),t({type:H,payload:{loggedIn:!1,loggedInUser:{},loading:!1}}));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),console.log("is logged",t),console.log("is admin",r)}),[t,o]),Object(a.jsx)("div",{className:e.pages,children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{path:"/",exact:!0,component:t?Cr:$e}),Object(a.jsx)(d.b,{path:"/loginfunc",exact:!0,component:Dt}),Object(a.jsx)(d.b,{path:"/htmlguide",exact:!0,component:Dr}),t?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(d.b,{path:"/addcards",exact:!0,component:Ve}),Object(a.jsx)(d.b,{path:"/cardgroup/:id",exact:!0,component:zt}),Object(a.jsx)(d.b,{path:"/peerreview",exact:!0,component:Zt}),Object(a.jsx)(d.b,{path:"/peerreview/:id",exact:!0,component:fr}),Object(a.jsx)(d.b,{path:"/study",exact:!0,component:mr}),Object(a.jsx)(d.b,{path:"/about",exact:!0,component:Lr}),Object(a.jsx)(d.b,{path:"/userprofile/:username",exact:!0,component:Bt}),r?Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)(d.b,{path:"/adminpage",render:function(e){var t=e.match.url;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ft,{}),Object(a.jsx)(d.b,{path:"".concat(t,"/"),exact:!0,component:qt}),Object(a.jsx)(d.b,{path:"".concat(t,"/users"),exact:!0,component:Wt}),Object(a.jsx)(d.b,{path:"".concat(t,"/deliverystatus"),exact:!0,component:Gt}),Object(a.jsx)(d.b,{path:"".concat(t,"/allcards"),exact:!0,component:It}),Object(a.jsx)(d.b,{path:"".concat(t,"/peerreviews"),exact:!0,component:Tr})]})}})}):Object(a.jsx)(c.a.Fragment,{})]}):Object(a.jsx)("div",{})]})})},zr=r(285),Br=r(281),Mr=r(78),Wr=r(124),Pr=r.n(Wr),Hr=r(104),Ur=Object(Mr.a)({palette:{type:"dark",textColor:"#fff",background:{default:"#303030"},backgroundHover:"#202020",primary:{main:"#171717"},secondary:{main:"#000"},button:{main:Pr.a[500],success:{main:"#078900",dark:"#0ab500"},error:{main:"#000"}},hover:"f0f0f0"},values:{siteSideMargin:"25%",siteTopMargin:"75px"}}),Fr=Object(Mr.a)({root:{},palette:{background:{default:"#fafafa"},backgroundHover:"#f1f1f1",primary:{main:"#00509e"},secondary:{main:Hr.a[500]},textColor:"#000",button:{main:Pr.a[500],success:{main:"#078900",dark:"#0ab500"},error:{main:"#931A00",dark:"#60190B"}},hover:"f0f0f0"},values:{siteSideMargin:"25%",siteTopMargin:"75px"}}),qr=r(288),Gr=r(290),Vr=function(){var e=Object(I.c)((function(e){return e.alertReducer.severity})),t=Object(I.c)((function(e){return e.alertReducer.text})),r=Object(I.c)((function(e){return e.alertReducer.newAlert})),o=c.a.useState(!1),i=Object(s.a)(o,2),l=i[0],d=i[1],u=Object(I.b)();Object(n.useEffect)((function(){r&&(d(!0),u({type:M}))}),[r]);var j=function(e,t){"clickaway"!==t&&d(!1)};return Object(a.jsx)(Gr.a,{open:l,autoHideDuration:6e3,onClose:j,children:Object(a.jsx)(qr.a,{onClose:j,severity:e,children:t})})},Yr=(Object(l.a)((function(e){return{footer:{display:"flex",minHeight:"100px",flexDirection:"column"},navbar:{backgroundColor:"grey",color:"white",textColor:"white"}}})),function(){var e=c.a.useState(!1),t=Object(s.a)(e,2),r=t[0],o=t[1];Object(n.useEffect)((function(){var e=sessionStorage.getItem("dark-mode");console.log("init darkmode",e),e?"true"===e&&o(!0):sessionStorage.setItem("dark-mode","false")}),[]);return Object(a.jsxs)(Br.a,{theme:r?Ur:Fr,children:[Object(a.jsx)(zr.a,{}),Object(a.jsxs)(u.a,{children:[Object(a.jsx)(Oe,{setDarkMode:function(){var e=sessionStorage.getItem("dark-mode");console.log(e),"true"===e?(o(!1),sessionStorage.setItem("dark-mode","false")):"false"===e&&(o(!0),sessionStorage.setItem("dark-mode","true"))}}),Object(a.jsx)(Vr,{}),Object(a.jsx)(Nr,{})]})]})}),Kr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,296)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))},Jr=r(70),Qr={cards:[]},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return console.log("created card",t.payload),console.log(e),console.log(Object(Ue.a)(Object(Ue.a)({},e),{},{cards:[].concat(Object(ar.a)(e.cards),[t.payload])})),Object(Ue.a)(Object(Ue.a)({},e),{},{cards:[].concat(Object(ar.a)(e.cards),[t.payload])});case $:return Object(Ue.a)({},e);case ee:return console.log("got card",t.payload),Object(Ue.a)(Object(Ue.a)({},e),{},{cards:t.payload});case te:return console.log("got cards",t.payload),console.log(Object(Ue.a)(Object(Ue.a)({},e),{},{cards:t.payload})),Object(Ue.a)(Object(Ue.a)({},e),{},{cards:t.payload});case re:return console.log("deleting dem cards"),console.log(e.cards),console.log(e.cards.filter((function(e){return e.id!==t.payload.id}))),Object(Ue.a)(Object(Ue.a)({},e),{},{cards:e.cards.filter((function(e){return e.id!==t.payload.id}))});case"CLEAR_CARDS":return console.log("faen"),{cards:[]};case ae:default:return e}},Xr={success:null,cardgroups:[]},$r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return console.log("created cardgroup",t.payload),console.log(e),console.log(Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:[].concat(Object(ar.a)(e.cardgroups),[t.payload])})),Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:[].concat(Object(ar.a)(e.cardgroups),[t.payload])});case V:return e;case Y:return console.log("got cardgroups",t.payload),console.log(Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:t.payload})),Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:t.payload});case K:return console.log("cardgroup",t.payload),Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:t.payload});case Z:return console.log("edit"),Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:e.cardgroups.map((function(e){return e.id===t.payload.id?t.payload:e}))});case J:return console.log("deleting cardgroup"),console.log(e.cardgroups),console.log(e.cardgroups.filter((function(e){return e.id!==t.payload.id}))),Object(Ue.a)(Object(Ue.a)({},e),{},{cardgroups:e.cardgroups.filter((function(e){return e.id!==t.payload.id}))});case Q:default:return e}},ea={newAlert:!1,severity:"",text:""},ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return console.log("Alert",t),{severity:t.payload.severity,text:t.payload.text,newAlert:!0};case M:return Object(Ue.a)(Object(Ue.a)({},e),{},{newAlert:!1});default:return console.log("default alert"),e}},ra={peerreviews:[]},aa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ra,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(Ue.a)(Object(Ue.a)({},e),{},{peerreviews:[].concat(Object(ar.a)(e.peerreviews),[t.payload])});case ce:return console.log("got peerreviews",t.payload),console.log(Object(Ue.a)(Object(Ue.a)({},e),{},{peerreviews:t.payload})),Object(Ue.a)(Object(Ue.a)({},e),{},{peerreviews:t.payload});default:return e}},na=Object(Jr.c)({authReducer:qe,cardReducer:Zr,cardgroupReducer:$r,alertReducer:ta,loadingReducer:we,userReducer:tt,ratingReducer:cr,peerreviewReducer:aa}),ca=r(167),oa=Object(Jr.d)(na,Object(Jr.a)(ca.a));i.a.render(Object(a.jsx)(I.a,{store:oa,children:Object(a.jsx)(Yr,{})}),document.getElementById("root")),Kr()}},[[229,1,2]]]);
//# sourceMappingURL=main.3341a143.chunk.js.map