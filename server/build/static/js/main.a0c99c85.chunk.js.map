{"version":3,"sources":["store/actionTypes.js","static/wrappers.js","components/layout/navbar.js","store/actions/authActions.js","store/reducers/loadingReducer.js","components/notifications/loading.js","components/submodules/groupview.js","store/actions/cardgroupActions.js","components/dialogs/confirmDialog.js","components/dialogs/createCardGroup.js","store/reducers/authReducer.js","components/pages/home.js","components/pages/login.js","store/reducers/userReducer.js","store/actions/userActions.js","store/actions/cardActions.js","components/submodules/cardgroupselect.js","components/dialogs/flashcardForm.js","components/submodules/cardview.js","components/dialogs/cardDialog.js","components/adminpages/allCards.js","components/loginfunc.js","components/dialogs/createCardDialog.js","components/pages/cardGroupPage.js","components/pages/userProfile.js.js","components/dialogs/userDialog.js","components/adminpages/users.js","components/layout/adminNavbar.js","components/adminpages/adminPage.js","components/adminpages/deliveryStatus.js","routes.js","static/theme.js","components/notifications/alerter.js","App.js","reportWebVitals.js","store/reducers/cardReducer.js","store/reducers/cardgroupReducer.js","store/reducers/alertReducer.js","store/reducers/rootReducer.js","index.js"],"names":["SET_LOADING","SET_ALERT","LOG_IN_CALLBACK","LOG_OUT","LOG_IN_STATUS","GET_USERS","UPDATE_USER","GET_DELIVERY_STATUS","CREATE_CARDGROUP","CREATE_CARDGROUP_ERROR","LOAD_CARDGROUPS","LOAD_CARDGROUP","DELETE_CARDGROUP","DELETE_CARDGROUP_ERROR","CREATE_CARD","CREATE_CARD_ERROR","LOAD_CARD","LOAD_CARDS","DELETE_CARD","DELETE_CARD_ERROR","siteWidth","PageWrapper","makeStyles","theme","pageWrapper","marginLeft","marginRight","withStyles","root","maxWidth","minWidth","marginTop","Box","NavBarWrapper","useStyles","link","color","palette","textColor","textDecoration","navbar","backgroundColor","primary","main","UserMenu","props","classes","user","useSelector","state","authReducer","loggedInUser","dispatch","useDispatch","React","useState","anchorEl","setAnchorEl","handleClose","console","log","username","Button","aria-controls","aria-haspopup","onClick","event","currentTarget","style","Menu","id","keepMounted","open","Boolean","onClose","to","className","MenuItem","setDarkMode","getState","a","localStorage","getItem","token","axios","post","headers","Authorization","then","res","data","error","removeItem","refreshToken","Error","clear","type","payload","loggedIn","whiteSpace","Navbar","redirectLogIn","setRedirectLogin","isAdmin","pathname","AppBar","position","Toolbar","padding","Typography","variant","flexGrow","List","display","Fragment","ListItem","initState","loading","loadingReducer","action","Loading","textAlign","CircularProgress","GroupView","cardgroups","redirectToGroupWithId","setredirectToGroupWithId","dateToString","date","Date","year","month","hour","minute","toString","cardgroupItems","map","cardgroup","Grid","item","xs","CardActionArea","e","groupId","minHeight","container","spacing","component","title","numberOfCardsDue","call","dueDate","Divider","loadCardgroups","get","catch","err","ConfirmDIalog","selectedValue","Dialog","aria-labelledby","dialog","maxHeight","CreateCardGroup","selectedDate","setSelectedDate","setTitle","numberOfCards","setNumberOfCards","time","setTime","useEffect","margin","align","onSubmit","preventDefault","getFullYear","getMonth","getDate","split","second","createdCardgroup","alert","severity","text","TextField","onChange","target","value","fullWidth","required","label","utils","DateFnsUtils","disableToolbar","inputVariant","format","autoOk","animateYearScrolling","KeyboardButtonProps","defaultValue","InputLabelProps","shrink","addButton","button","success","border","background","dark","Home","cardgroupReducer","setOpen","gutterBottom","StyledLink","styled","Link","ManualLogin","setUsername","email","setEmail","name","setName","manualredirect","setManualredirect","marginBottom","fontSize","fetch","method","body","JSON","stringify","credentials","response","json","status","Login","AlternativeLogin","setAlternativeLogin","withCredentials","window","width","height","href","users","userReducer","getUsersWithRole","role","addCard","card","front","back","cardgroupid","createdCard","loadCardgroupFlashcards","cardgroupId","cards","CardgroupSelect","cardgroupMenuitems","index","group","setGroup","FormControl","InputLabel","Select","labelId","length","FlashcardForm","setFront","setBack","changedCard","multiline","rows","CardView","editCard","setEditCard","deleteThisCard","delete","deleteCard","editThisCard","cardItems","Card","IconButton","CardDialog","AllCards","cardReducer","openCard","setOpenCard","selectedCard","setSelectedCard","cardGroupId","setCardGroupId","c","onCellClick","row","handleClick","columns","field","headerName","pageSize","LogInFunc","user_token","refresh_token","setItem","CreateCardDialog","delButton","progressBar","CardGroupPage","match","params","redirectHome","setRedirectHome","percentage","Math","round","userId","LinearProgress","confirm","deleteCardgroup","UserProfile","loggedInuser","UserDialog","makeAdmin","updatedUser","addAdmin","unmakeAdmin","removeAdmin","paddingTop","Users","show","setShow","openUserDialog","setOpenUserDialog","selectedUser","setSelectedUser","searchPhrase","setSearchPhrase","userRoleFiler","handleSearch","searchUsers","handleFilter","onKeyPress","ev","key","InputProps","endAdornment","navlink","AdminNavbar","alignment","setAlignment","ToggleButtonGroup","exclusive","newAlignment","aria-label","ToggleButton","AdminPage","DeliveryStatus","s","delivered","toDeliver","complete","Routes","pages","path","exact","logInFunc","render","url","darkTheme","createMuiTheme","secondary","blue","hover","values","siteSideMargin","siteTopMargin","grey","Alerter","alertReducer","reason","Snackbar","autoHideDuration","Alert","App","darkMode","sessionStorage","CssBaseline","loggedin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","filter","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.a0c99c85.chunk.js","sourcesContent":["\n\n/* alert actions */\nexport const SET_LOADING       = \"SET_LOADING\"\nexport const STOP_LOADING       = \"STOP_LOADING\"\n\n\n/* Loading actions */ \nexport const SET_ALERT       = \"SET_ALERT\"\n\n/* Authentication actions */\nexport const LOG_IN_CALLBACK = \"LOG_IN_CALLBACK\"\nexport const LOG_OUT         = \"LOG_OUT\"\nexport const LOG_IN_STATUS   = \"LOG_IN_STATUS\"\n\n/* User actions */\nexport const GET_USERS = \"GET_USERS\"\nexport const UPDATE_USER = \"UPDATE_USER\"\nexport const GET_DELIVERY_STATUS = \"GET_DELIVERY_STATUS\"\n\n/* Cardgroup actions */\nexport const CREATE_CARDGROUP = \"CREATE_CARDGROUP\"\nexport const CREATE_CARDGROUP_ERROR = \"CREATE_CARDGROUP_ERROR\"\nexport const LOAD_CARDGROUPS = \"LOAD_CARDGROUPS\"\nexport const LOAD_CARDGROUP  = \"LOAD_CARDGROUP\"\nexport const DELETE_CARDGROUP = \"DELETE_CARDGROUP\"\nexport const DELETE_CARDGROUP_ERROR = \"DELETE_CARDGROUP_ERROR\"\n\n/* Card ACTIONS */\nexport const CREATE_CARD = \"CREATE_CARD\"\nexport const CREATE_CARD_ERROR = \"CREATE_CARD_ERROR\"\nexport const LOAD_CARD = \"LOAD_CARD\"\nexport const LOAD_CARDS = \"LOAD_CARDS\"\nexport const EDIT_CARD = \"EDIT_CARD\"\nexport const DELETE_CARD = \"DELETE_CARD\"\nexport const DELETE_CARD_ERROR = \"DELETE_CARD_ERROR\"\n\n","import { Box, makeStyles, withStyles } from \"@material-ui/core\";\n\n\nconst siteWidth = \"600px\"\n\nexport const wrappers = makeStyles(theme => ({\n    pageWrapper: {\n        marginLeft: \"100px\",\n        marginRight: \"200px\"\n    }\n  }));\n\nexport const PageWrapper = withStyles({\n    root: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",    \n        maxWidth: siteWidth,\n        minWidth: siteWidth,\n        marginTop: \"50px\", \n    }\n})(Box)\n\nexport const NavBarWrapper = withStyles({\n    root: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        maxWidth: siteWidth,\n        minWidth: siteWidth,\n        \n    }\n})(Box)\n","\nimport React, {useState} from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport  { Redirect, NavLink, Link } from 'react-router-dom'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport {AppBar, Menu, MenuItem} from '@material-ui/core'\nimport PersonIcon from '@material-ui/icons/Person';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { signOut } from '../../store/actions/authActions';\nimport { NavBarWrapper } from \"../../static/wrappers\";\n\n\nconst useStyles = makeStyles(theme => ({ \n    link: {\n        color: theme.palette.textColor,\n        textDecoration: \"none\"\n    },\n    navbar: {\n        backgroundColor: theme.palette.primary.main,\n        color: \"white\",\n        textColor: \"white\",\n    }\n}));\n\n\n\nconst UserMenu  = (props) => {\n    const classes = useStyles()\n\n    const user = useSelector(state => state.authReducer.loggedInUser)\n    const dispatch = useDispatch();    \n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    \n    const logOut = () => {\n        console.log(\"out\")\n        dispatch(signOut())\n        handleClose();\n    }\n\n    const handleMode = () => {\n        props.setDarkMode()\n    }\n\n    console.log(user)\n    if (!user.username){\n        console.log(\"true\")    \n\n        return(\n            <Redirect \n                to=\"/\"\n            /> \n        )\n    }\n    \n    if (user.username) {return(\n        <div>\n        <Button color=\"inherit\" aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n            <AccountCircleIcon />\n            \n            <div style={{marginLeft: \"5px\"}}> \n                {user.username}\n            </div>\n            <ExpandMoreIcon />\n        </Button>\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n            <Link to={\"/userprofile/\"+user.username} className={classes.link}  >\n                <MenuItem onClick={handleClose}>\n                    <PersonIcon /> My Profile\n                </MenuItem>\n            </Link>\n            <MenuItem onClick={handleMode}>            \n                  <Brightness4Icon />\n                  Toggle Dark Mode\n            </MenuItem>\n\n            <MenuItem onClick={logOut}>\n                <ExitToAppIcon /> Logout\n                </MenuItem>\n      </Menu>\n\n\n        </div>\n    )}\n    else return (\n        <NavLink style={{color: \"white\", whiteSpace: \"nowrap\"}} to=\"/\"> Log in</NavLink>\n    )\n    \n}\n\nconst Navbar = props => {\n\n    const classes = useStyles();\n    const [redirectLogIn, setRedirectLogin] = useState(false)       \n    const loggedIn = useSelector(state => state.authReducer.loggedIn)\n    const isAdmin = useSelector(state => state.authReducer.isAdmin)\n\n    \n    if (redirectLogIn && !loggedIn) {\n        setRedirectLogin(false)\n        return( \n          <Redirect to={{\n            pathname: \"/\"\n          }}/>  \n        )\n      }\n\n    else return(\n\n        <AppBar position=\"static\" style={{}}>\n       \n\n        <NavBarWrapper className={classes.navbar}>\n                    <Toolbar style={{padding: 0}}>\n                        \n        <Typography variant=\"h6\" style={{flexGrow: 0}}>\n        TTK4145 Flashcards\n        </Typography>\n        \n\n\n        <List style={{textColor: \"white\", display: \"flex\"}}>\n            \n\n            {loggedIn ?  \n\n            <React.Fragment>\n                <ListItem>\n                    <NavLink style={{color: \"white\", whiteSpace: \"nowrap\"}} to=\"/\"> {loggedIn ? \"Home\" : \"Log in\"}</NavLink>\n                </ListItem>\n                {isAdmin ? \n                <ListItem>\n                    <NavLink style={{color: \"white\", whiteSpace: \"nowrap\"}} to=\"/adminpage\"> Admin Page</NavLink>\n                </ListItem> : <div></div> }\n            </React.Fragment>\n            :\n            <div></div>\n            }\n\n        </List>\n\n\n            <div style={{marginLeft: \"auto\"}}>                \n                <UserMenu setDarkMode={props.setDarkMode}></UserMenu>\n            </div>\n        </Toolbar>\n        </NavBarWrapper>\n         </AppBar>\n    )\n}\n\nexport default Navbar","\nimport axios from 'axios';\nimport { LOG_IN_CALLBACK, LOG_IN_STATUS, LOG_OUT, SET_ALERT } from '../actionTypes';\n\n\n\n\nexport const signInCallack = () => async (dispatch) => {\n    axios.get(\"/api/login/callback\", { withCredentials: true })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            let user_token = res.data.user_token\n            let refresh_token = res.data.refresh_token\n            console.log(\"action, usertoken\", user_token)\n            console.log(\"action, refresh\", refresh_token)\n            localStorage.setItem(\"user_token\", user_token)\n            localStorage.setItem(\"refresh_token\", refresh_token)\n            const payload = {loggedIn: true}\n            dispatch({type: LOG_IN_CALLBACK, payload})\n        })\n        .catch(err => {\n            console.log(\"Error in signInCallback\", err)\n            const alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n}\n\nexport const adminOnly = () => async (dispatch) => {\n    axios.get(\"/api/adminonly\", {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n    .then(res => {\n        console.log(\"from admin test\")\n        if(res.data.error){\n            throw new Error(res.data.error)\n        }\n        console.log(res.data)       \n        const alert = {severity: \"success\", text: res.data.status}\n        dispatch({type: SET_ALERT, payload: alert})\n \n\n        // dispatch({type: LOG_IN_CALLBACK, payload})\n    })\n    .catch(err => {\n        console.log(\"Error in signInCallback\", err)\n        const alert = {severity: \"error\", text: err.toString()}\n        dispatch({type: SET_ALERT, payload: alert})\n    })\n}\n\nexport const checkLogInStatus = () => async (dispatch, getState) => {\n    \n    const user_token = localStorage.getItem(\"user_token\")\n    const refresh_token = localStorage.getItem(\"refresh_token\")\n\n    console.log(\"user_token?\", Boolean(user_token))\n    console.log(\"refresh_token?\", Boolean(refresh_token))\n\n    if (user_token && refresh_token){\n        console.log(\"found both tokens\")\n        axios.get(\"/api/getcurrentuser\", {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n            }\n        }).then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            console.log(\"found user?\", res.data)\n            console.log(\"true? \", res.data.role === \"Admin\")\n            let payload = {loggedIn: true, loggedInUser: res.data, isAdmin: res.data.role == \"Admin\"}\n            dispatch({type: LOG_IN_STATUS, payload})\n        }).catch(err => {\n            console.log(\"error..\", err)\n            let payload = {loading: false, loggedInUser: {}}\n            dispatch({type: LOG_IN_STATUS, payload})\n\n            // const alert = {severity: \"error\", text: err.toString()}\n            // dispatch({type: SET_ALERT, payload: alert})\n        })\n    }\n    else {\n        console.log(\"no user logged in\")\n        let payload = {loggedIn: false, loggedInUser: {}, loading: false}\n        dispatch({type: LOG_IN_STATUS, payload})\n    }\n\n}\n\nexport const signOut = () => async (dispatch, getState) => {\n\n    if (localStorage.getItem(\"user_token\")) {\n        const token = localStorage.getItem(\"user_token\")\n        axios.post(\"/api/logout/access\", {}, {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        }).then(res => {\n            if (res.data.error) {\n                console.error(res.data.error)\n            } else {\n                localStorage.removeItem(\"user_token\")\n            }\n        })\n    }\n    if (localStorage.getItem(\"refresh_token\")) {\n        const refreshToken = localStorage.getItem(\"refresh_token\")\n        axios.post(\"/api/logout/refresh\", {}, {\n            headers: {\n                Authorization: `Bearer ${refreshToken}`\n            }\n        }).then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            } else {\n                localStorage.removeItem(\"refresh_token\")\n            }\n        })\n    }\n    localStorage.clear();\n\n    console.log(\"logging out...\")\n    const payload = {loggedIn: false, loggedInUser: {}}\n    dispatch({type: LOG_OUT, payload})\n\n}\n\n","\nimport { SET_LOADING, STOP_LOADING } from '../actionTypes';\n\nconst initState = {\n    loading: false\n}\n\nconst loadingReducer = (state = initState, action) => {\n\n    switch(action.type){\n        case SET_LOADING:\n            console.log(\"laading\", action)\n            return {\n                loading: action.payload\n            }               \n        default:\n            console.log(\"default alert\")\n            return state\n    }\n}\n\nexport default loadingReducer","\nimport { CircularProgress } from '@material-ui/core/';\n\n\nconst Loading = () => {\n\n\n\n    return (\n        <div style={{textAlign: \"center\"}}>\n            <CircularProgress color=\"secondary\" /> \n        </div>\n    )\n}\n\nexport default Loading","import { CardActionArea, Divider, Grid, Typography } from '@material-ui/core';\nimport { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport loadingReducer from '../../store/reducers/loadingReducer';\nimport Loading from '../notifications/loading';\n\n\n\n\nconst GroupView = ({cardgroups}) => {\n\n    const loading = useSelector(state => state.loadingReducer.loading)\n\n    const [redirectToGroupWithId, setredirectToGroupWithId] = useState(-1)\n\n    const handleClick = (e, groupId) => {\n        console.log(\"redirect\")\n        console.log(groupId)\n        setredirectToGroupWithId(groupId)\n    }\n\n    let admin = true\n\n    const dateToString = date => {\n        console.log(\"ddatee\")\n        console.log(date)\n        try{\n            let a = new Date(date.year, date.month-1, date.date, date.hour, date.minute)\n            console.log(\"aa\", a)\n            // return a.getUTCMonth()\n            return a.toString()\n        }\n        catch{\n            return \"Date error\"\n        }\n    }\n    \n\n    let cardgroupItems = cardgroups.map((cardgroup) => (\n        <Grid item xs={12} key={cardgroup.id}> \n                <CardActionArea onClick={e => handleClick(e, cardgroup.id)} style={{padding: \"10px\", minHeight: \"100px\"}}>\n                <Grid container spacing={2} >\n                    <Grid item xs={12}>                        \n                        <Typography variant=\"subtitle1\" component=\"h2\">\n                            {cardgroup.title}     \n                        </Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">\n                            {cardgroup.numberOfCardsDue} cards are due: {dateToString.call(this, cardgroup.dueDate)}     \n                        </Typography>\n                    </Grid>\n                </Grid>\n                </CardActionArea> \n                <Divider   /> \n        </Grid>\n    ))\n\n    if (loading){\n        return <Loading />\n    }\n    else if (redirectToGroupWithId > 0) {\n        return( \n          <Redirect to={{\n            pathname: \"/cardgroup/\" +redirectToGroupWithId\n          }}/>  \n        )\n      }\n    else if (cardgroupItems){\n        return(\n\n            <div>\n            <Divider   /> \n            <Grid container spacing={0}>\n                 \n                 <Divider   /> \n                {cardgroupItems}\n                \n            </Grid>\n            </div>\n        )\n    } else{\n        return (\n            <div>empty</div>\n        )\n    }\n\n}\n\nexport default GroupView","\nimport axios from 'axios';\nimport { SET_ALERT, CREATE_CARDGROUP, SET_LOADING, LOAD_CARDGROUPS, DELETE_CARDGROUP, DELETE_CARDGROUP_ERROR, LOAD_CARDGROUP } from '../actionTypes';\n\nconst Sleep = (milliseconds) => {\n    return new Promise(resolve => setTimeout(resolve, milliseconds))\n  }\n\nexport const addCardgroup = (cardgroup) => async( dispatch, getState) => {\n        \n    \n    console.log(\"c cardgroup\")\n    console.log(cardgroup)\n\n    axios.post(\"/api/addcardgroup\", {\n            title: cardgroup.title,\n            numberOfCardsDue: cardgroup.numberOfCardsDue,\n            dueDate: cardgroup.dueDate\n        }, {\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem(\"user_token\")\n            }\n        })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            console.log(\"returned\")\n            console.log(res.data)\n            \n            if(res.data.error){\n                console.log(\"error\")\n                throw new Error(res.data.error)\n            }\n\n\n            const createdCardgroup = res.data\n            console.log(createdCardgroup.dueDate)\n\n            console.log(\"was created, \", createdCardgroup)\n            let alert = {severity: \"success\", text: \"successfully created cardgroup: \"+createdCardgroup.title}\n            dispatch({type: SET_ALERT, payload: alert})\n            dispatch({type: CREATE_CARDGROUP, payload: createdCardgroup})\n        })\n        .catch(err => {\n            console.log(\"This is an error yes plz\")\n            let alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n            // dispatch({type: CREATE_CARDGROUP_ERROR, err})\n        })\n\n    console.log(\"async call up in hier\", cardgroup)\n    \n};\n\n\nexport const loadCardgroups = () => async (dispatch, getState) => {\n    dispatch({type: SET_LOADING, payload: true})\n\n\n    await axios.get(\"/api/cardgroups\")\n    .then(res => {\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n        const cardgroups = res.data\n        console.log(\"mah cardgroups\")\n        \n        console.log(cardgroups)\n        dispatch({type: LOAD_CARDGROUPS, payload: cardgroups})\n    })\n    .catch(err => console.log(err))\n\n    dispatch({type: SET_LOADING, payload: false})\n}\n\n\n\nexport const loadCardgroup = (groupId) => async (dispatch) => {\n    dispatch({type: SET_LOADING, payload: true})\n\n    await axios.get(\"/api/cardgroup/\"+groupId)\n    .then(res => {\n        console.log(\"res,\", res)\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n        const cardgroup = [res.data]\n        console.log(\"cardgroup found\")\n        \n        console.log(cardgroup)\n        dispatch({type: LOAD_CARDGROUP, payload: cardgroup})\n    })\n    .catch(err => {\n        let alert = {severity: \"error\", text: err.toString()}\n        dispatch({type: SET_ALERT, payload: alert})\n    })\n\n    dispatch({type: SET_LOADING, payload: false})\n\n}\n\nexport const deleteCardgroup = (cardgroup) => async (dispatch, getState) => {\n    console.log(\"and action\")\n    console.log(cardgroup.id)\n\n    await axios.delete(\"/api/deletegroup/\" + cardgroup.id, \n    {headers: { \n        Authorization: \"Bearer \" +localStorage.getItem(\"user_token\") \n    }}\n    ).then(res => {\n        console.log(\"to be deleted\")\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n\n        let alert = {severity: \"success\", text: \"successfully deleted cardgroup: \"+cardgroup.title}\n        dispatch({type: SET_ALERT, payload: alert})\n        dispatch({type: DELETE_CARDGROUP, payload: cardgroup})        \n    })\n    .catch(err => {\n\n        let alert = {severity: \"error\", text: err.toString()}\n        dispatch({type: SET_ALERT, payload: alert})\n        // dispatch({type: DELETE_CARDGROUP_ERROR, payload: cardgroup}) \n    })\n\n}\n\n\n\n\n","import { Dialog } from \"@material-ui/core\";\n\n\n\nconst ConfirmDIalog = (props) =>  {\n    const { onClose, selectedValue, open } = props;\n\n    \n\n    const handleClose = () => {\n      onClose(selectedValue);\n    };\n  \n   \n    return (\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n\n        <div>Are you sure??</div>\n        {/* <DialogTitle id=\"simple-dialog-title\">Set backup account</DialogTitle>\n        <List>\n          {emails.map((email) => (\n            <ListItem button onClick={() => handleListItemClick(email)} key={email}>\n              <ListItemAvatar>\n                <Avatar className={classes.avatar}>\n                  <PersonIcon />\n                </Avatar>\n              </ListItemAvatar>\n              <ListItemText primary={email} />\n            </ListItem>\n          ))}\n  \n          <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\n            <ListItemAvatar>\n              <Avatar>\n                <AddIcon />\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText primary=\"Add account\" />\n          </ListItem>\n        </List> */}\n      </Dialog>\n    );\n  }\n  \n  export default \n  ConfirmDIalog","\nimport { Button, \n    Grid, \n    TextField,\n    Dialog,\n    Typography,\n    makeStyles\n} from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\n\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDatePicker,\n  } from '@material-ui/pickers';\n  \n\nimport React, { useState } from 'react';\n\n\nimport { addCardgroup } from '../../store/actions/cardgroupActions';\nimport {  useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport ConfirmDialog from \"./confirmDialog\"\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        \"& .MuiDialog-paperScrollPaper\": {\n            maxHeight: \"100vh\",\n        },\n    }\n}))\n\nconst CreateCardGroup = (props) => {\n    const { onClose, selectedValue, open } = props;\n    const dispatch = useDispatch();    \n    \n    const [selectedDate, setSelectedDate] = React.useState(null);\n    const [title, setTitle] = useState(\"\");\n    const [numberOfCards, setNumberOfCards] = useState(0)\n    const [time, setTime] = useState(\"23:59\")\n\n    const classes = useStyles()\n\n\n\n    const handleDateChange = (date) => {\n      setSelectedDate(date);\n    };\n\n    useEffect(() => {\n        console.log(time)\n    },[time])\n\n    const submit = e => {\n        e.preventDefault()        \n\n      \n\n\n        if (title && selectedDate && numberOfCards && time){\n            console.log(selectedDate)\n\n            let year = selectedDate.getFullYear()\n            let month = selectedDate.getMonth()+1\n            let date = selectedDate.getDate()\n            let hour = time.split(\":\")[0]\n            let minute = time.split(\":\")[1]\n            let second = 59\n\n            dispatch(addCardgroup({\n                title: title,        \n                dueDate: {\n                    year,\n                    month,\n                    date,\n                    hour,\n                    minute,\n                    second\n                },\n                numberOfCardsDue: numberOfCards        \n            }))         \n            handleClose()            \n        }\n        else{\n        }\n    }\n\n\n    const handleClose = () => {\n        setSelectedDate(null)\n        setTitle(\"\")\n        setNumberOfCards(0)\n        setTime(\"23:59\")\n\n        \n\n        onClose(selectedValue);\n    };\n    \n    return (\n      <Dialog onClose={handleClose} \n        className={classes.dialog}\n\n       open={open} style={{ margin: \"100px\"}}>\n          <ConfirmDialog></ConfirmDialog>\n            \n            <div style={{margin: \"40px 40px\"}}> \n\n            <Grid container spacing={2}>\n                <Grid item xs={12} >\n                    <Typography variant=\"h6\" align=\"left\" >New Cardgroup</Typography>\n                </Grid>\n            </Grid>\n\n\n            <form onSubmit={submit} >\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField \n                        color=\"secondary\"\n                        onChange={e => setTitle(e.target.value)} \n                        fullWidth \n                        required \n                        variant=\"outlined\" \n                        label=\"Cardgroup title\"/>\n                </Grid>\n\n                <Grid item xs={12}>\n                <TextField\n                    fullWidth\n                    color=\"secondary\"\n                    id=\"outlined-number\"\n                    label=\"Number of flashcards for delivery pr student\"\n                    type=\"number\"\n                    required\n                    onChange={e => setNumberOfCards(e.target.value)} \n                    variant=\"outlined\"\n                />\n                </Grid>\n\n                <Grid item xs={6}>\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                        <KeyboardDatePicker\n                        fullWidth\n                        disableToolbar         \n                        required    \n                        inputVariant=\"outlined\"           \n                        variant=\"outlined\"\n                        format=\"MM/dd/yyyy\"\n                        // margin=\"normal\"\n                        id=\"date-picker-inline\"\n                        label=\"Due date for delivery\"\n                        value={selectedDate}\n                        \n                        onChange={handleDateChange}\n                        onClick={console.log(\"close\")}\n                        color=\"secondary\"\n                        autoOk\n                        animateYearScrolling\n                        KeyboardButtonProps={{\n                            'aria-label': 'change date',\n                        }}\n                        />                 \n                </MuiPickersUtilsProvider>                   \n\n                    </Grid>\n                    <Grid item xs={6} >\n                    <TextField\n                            fullWidth\n                            id=\"time\"\n                            label=\"\"\n                            type=\"time\"\n                            variant=\"outlined\"\n                            onChange = {e => setTime(e.target.value)}\n                            defaultValue=\"23:59\"\n                            color=\"secondary\"\n                            InputLabelProps={{\n                                shrink: true,\n                                }}\n                            // inputProps={{\n                            //     step: 1440, // 5 min\n                            // }}\n                          />\n                    </Grid>\n\n\n               \n\n                \n                <Grid item xs={6}>\n                    <Button variant=\"contained\" onClick={handleClose} fullWidth color=\"primary\"  > Back</Button>\n                </Grid>\n                <Grid item xs={6}>\n                    <Button type=\"submit\" fullWidth style={{backgroundColor: selectedDate && title && numberOfCards ? \"green\" : \"grey\", color: \"white\"}}>Submit</Button>\n                </Grid>\n\n                </Grid>\n                </form>\n\n\n                </div>\n      </Dialog>\n    );\n}\n  \nexport default CreateCardGroup\n\n","import { LOG_IN_CALLBACK, LOG_IN_STATUS, LOG_OUT } from \"../actionTypes\"\n\n\n\nconst initState = {\n    loggedIn: false,\n    loggedInUser: {},\n    isAdmin: false\n}\n\nconst authReducer = (state = initState, action) => {\n\n    switch(action.type){\n        case LOG_IN_CALLBACK:\n            console.log(\"successfull login callback\")\n            return {\n                ...state, \n                loggedIn: action.payload.loggedIn,\n                isAdmin: action.payload.isAdmin\n            }\n        \n        case LOG_OUT:\n            console.log(\"logging out\")\n\n            console.log(action.payload)\n\n            return {\n                ...state,\n                loggedIn: action.payload.loggedIn,\n                loggedInUser: action.payload.loggedInUser\n            }\n        case LOG_IN_STATUS:\n            console.log(\"fetching status\")\n            console.log(action.payload)\n            return {\n                ...state,\n                loggedIn: action.payload.loggedIn,\n                loggedInUser: action.payload.loggedInUser,\n                isAdmin: action.payload.isAdmin\n            }\n            \n\n        default:\n            console.log(\"default auth\")\n            return state\n    }\n}\n\nexport default authReducer","import React, { useEffect } from \"react\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport GroupView from \"../submodules/groupview\";\nimport { loadCardgroups } from \"../../store/actions/cardgroupActions\";\nimport {Typography, Button, Grid, makeStyles} from '@material-ui/core';\nimport {PageWrapper} from \"../../static/wrappers\"\nimport CreateCardGroup from \"../dialogs/createCardGroup\";\nimport { adminOnly } from \"../../store/actions/authActions\";\nimport authReducer from '../../store/reducers/authReducer';\n\nconst useStyles = makeStyles(theme => ({\n    addButton: {\n        backgroundColor: theme.palette.button.success.main,\n        color: \"white\",\n        border: \"none\",\n        align: \"center\",\n        '&:hover': {\n            background: theme.palette.button.success.dark,\n          }\n\n    }\n}))\n\n\n\nconst Home = () => {\n\n    const classes = useStyles()\n    const dispatch = useDispatch();\n   \n    const cardgroups = useSelector(state => state.cardgroupReducer.cardgroups)\n    const isAdmin = useSelector(state => state.authReducer.isAdmin)\n    \n    useEffect(() => {\n        dispatch(loadCardgroups())\n    }, [dispatch])   \n\n    useEffect(() => {\n        console.log(\"cardgroups changed...\")\n    }, [cardgroups])   \n\n    const [open, setOpen] = React.useState(false);\n    // const [selectedValue, setSelectedValue] = React.useState(emails[1]);\n  \n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleClose = (value) => {\n      setOpen(false);\n    };\n\n\n  \n\n\n\n    return (\n        // <div style={{maxWidth: \"600px\", marginTop: \"65px\", marginLeft: \"auto\", marginRight: \"auto\"}}>\n        <PageWrapper>   \n\n        <Grid container spacing={2}>\n            <Grid item xs={8}  >\n                <Typography variant=\"h4\" gutterBottom >\n                    Card Groups    \n                </Typography>\n            </Grid>\n            <Grid item xs={4}>\n                {isAdmin ?                 \n                <Button fullWidth className={classes.addButton} variant=\"outlined\" onClick={handleClickOpen}>\n                    + Create group\n                </Button> :\n                <div></div>}\n            </Grid> \n            <Grid item xs={12}>\n                <GroupView cardgroups={cardgroups}/>\n            </Grid> \n        </Grid>\n    \n        \n    <CreateCardGroup open={open} onClose={handleClose} />\n    </PageWrapper>\n        \n    )\n}\n\nexport default Home","import React, { useState} from \"react\"\nimport  { Redirect } from 'react-router-dom'\nimport TextField from '@material-ui/core/TextField';\nimport axios from \"axios\";\nimport { Button, Link } from \"@material-ui/core\";\nimport { styled } from '@material-ui/core/styles';\nimport { useDispatch  } from 'react-redux';\nimport { PageWrapper } from \"../../static/wrappers\";\nimport { SET_ALERT } from \"../../store/actionTypes\";\n\n\nconst StyledLink = styled(Link)({\n  color: \"black\",\n  padding: \"20px\"    \n})\n\nconst ManualLogin = () => {\n  \n  const [username, setUsername] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n  const [name, setName] = useState(\"\")\n  const dispatch = useDispatch()\n  const [manualredirect, setManualredirect] = useState(false)\n\n\n  const manualLogin = e =>{\n    e.preventDefault()\n    if (username && email && name){\n      let data = {\n        username: username,\n        email: email,\n        name: name\n      }      \n\n      var url = '/api/userdata';\n      fetch(url, {\n        method: 'POST',\n        body: JSON.stringify(data),\n        credentials: 'include',   // this line has been added for sessions \n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      .then(response => response.json())\n      .then((data) => {\n        console.log(data);\n        if (data.status === \"success\"){\n          console.log(\"redirecting\")\n          setManualredirect(true)\n        } else {\n          throw(data.error) \n        }\n      })\n      .catch(err => {\n        let alert = {severity: \"error\", text: err}\n        dispatch({type: SET_ALERT, payload: alert}) \n  \n      })\n    } else {\n      let alert = {severity: \"error\", text: \"Missing credentials for login\"}\n      dispatch({type: SET_ALERT, payload: alert}) \n    }\n\n  }\n\n  if (manualredirect) {\n    return( \n      <Redirect to={{\n        pathname: \"/loginfunc\"\n      }}/>  \n    )\n  }\n  else {\n    return(\n      <div> \n          <div style={{marginBottom: 0, marginTop: \"50px\",}}> \n            <h3 style={{fontSize: \"14px\", color: \"#666\", display: \"inline\", padding: \"12px\"}}>ALTERNATIVE LOGIN - JUST FOR TESTING</h3> \n          </div>\n          <form onSubmit={manualLogin}>\n            <TextField  label=\"username\" onChange={e => setUsername(e.target.value)} required />  <br />\n            <TextField  label=\"name\" onChange={e => setName(e.target.value)} required/> <br />\n            <TextField  label=\"email\" onChange={e => setEmail(e.target.value)} required/> <br />\n            <Button  variant=\"contained\"  style={{margin: \"30px\"}} type=\"submit\">Manual Login (for testing)</Button>\n          </form> \n        </div>\n    )\n  }\n}\n\nfunction Login() {\n\n  const [AlternativeLogin, setAlternativeLogin] = useState(false)\n\n\n  const dispatch = useDispatch()\n  const feideLogin = () => {    \n    axios.get(\"/api/logintoken\", { withCredentials: true })\n    .then(res => {\n      window.open(\"https://www.itk.ntnu.no/api/feide.php?token=\"+res.data.token+\"&returnURL=https://asgeirdemo.herokuapp.com/api/userdata\", \"_self\")\n    })\n    .catch(err => {\n      console.log(\"err\", err)\n      let alert = {severity: \"error\", text: \"External login failed\"}\n      dispatch({type: SET_ALERT, payload: alert}) \n    })\n  } \n\n\n\n  \n    return (\n    <PageWrapper style={{textAlign: \"center\", marginTop: \"15%\"}}>\n\n      <Button color=\"primary\" variant=\"contained\" onClick={feideLogin} style={{width: \"300px\", height: \"80px\"}}>\n        Log in with Feide\n      </Button> <br/>\n      <div style={{padding: \"10px\"}}> \n        <StyledLink href=\"#\" onClick={e => setAlternativeLogin(!AlternativeLogin)}>Alternative login</StyledLink>\n        <StyledLink  target=\"_blank\" href=\"https://s.ntnu.no/glemt\" >Forgot Password</StyledLink>        \n      </div>\n\n      {AlternativeLogin ? \n        <ManualLogin />\n      : <div> </div>}\n    </PageWrapper>     \n  );\n\n}\n\nexport default Login;\n","import { GET_USERS, GET_DELIVERY_STATUS, UPDATE_USER } from \"../actionTypes\"\n\n\n\nconst initState = {\n    users: [],\n    status: []\n}\n\nconst userReducer = (state = initState, action) => {\n\n    switch(action.type){\n        case GET_USERS:\n            console.log(\"successfull get users\")\n            return {\n                ...state, \n                users: action.payload\n            }   \n        case GET_DELIVERY_STATUS:\n            console.log(\"successfull get status\")\n            return{\n                ...state,\n                status: action.payload\n            }\n\n        case UPDATE_USER:\n            console.log(\"updated user\")\n            return{\n                ...state,\n                users: state.users.map(user => {\n                    if (user.id == action.payload.id ) {\n                        return action.payload;\n                    } else {\n                        return user;\n                    }\n                })\n            }\n            \n        default:\n            console.log(\"default auth\")\n            return state\n    }\n}\n\nexport default userReducer","\nimport axios from 'axios';\nimport { GET_DELIVERY_STATUS, GET_USERS, SET_ALERT, SET_LOADING , UPDATE_USER} from '../actionTypes';\n\n\n\n\nexport const getAllUsers = () => async (dispatch) => {\n    axios.get(\"/api/users/all\", {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            console.log(\"res data alll\", res.data)\n            dispatch({type: GET_USERS, payload: res.data})\n        })\n        .catch(err => {\n            console.log(\"Error in get users\", err)\n            const alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n}\n\nexport const getUsersWithRole = (role) => async (dispatch) => {\n    axios.get(\"/api/users/role=\"+role, {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            console.log(\"res data role =\"+role, res.data)\n            dispatch({type: GET_USERS, payload: res.data})\n        })\n        .catch(err => {\n            console.log(\"Error in get users\", err)\n            const alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n}\n\nexport const searchUsers = (role, searchPhrase, ) => async (dispatch) => {\n    axios.get(\"/api/users/search/role=\"+role+\"/searchphrase=\"+searchPhrase, {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            console.log(\"res data\", res.data)\n            dispatch({type: GET_USERS, payload: res.data})\n        })\n        .catch(err => {\n            console.log(\"Error in get users\", err)\n            const alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n}\n\n\nexport const getUsersStatus = (cardgroupId) => async (dispatch, getState) => {\n    dispatch({type: SET_LOADING, payload: true})\n\n    if (!cardgroupId){\n        dispatch({type: GET_DELIVERY_STATUS, payload: []})\n    }\n\n    axios.get(\"/api/deliverystatus/\"+cardgroupId, {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n    .then(res => {\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n        const status = res.data\n        console.log(\"mah status\")\n        console.log(status)\n        dispatch({type: GET_DELIVERY_STATUS, payload: status})\n    })\n    .catch(err => console.log(err))\n\n    dispatch({type: SET_LOADING, payload: false})\n}\n\n\nexport const addAdmin = (user) => async (dispatch, getState) => {\n    dispatch({type: SET_LOADING, payload: true})   \n    axios.get(\"/api/addadmin/\"+user.id, {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n    .then(res => {\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n        const updatedUser = res.data\n        dispatch({type: UPDATE_USER, payload: updatedUser})\n    })\n    .catch(err => console.log(err))\n\n    dispatch({type: SET_LOADING, payload: false})\n}\n\nexport const removeAdmin = (user) => async (dispatch, getState) => {\n    dispatch({type: SET_LOADING, payload: true})   \n    axios.get(\"/api/removeadmin/\"+user.id, {\n        headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n        }\n    })\n    .then(res => {\n        if(res.data.error){\n            console.log(\"error\")\n            throw new Error(res.data.error)\n        }\n        const updatedUser = res.data\n        dispatch({type: UPDATE_USER, payload: updatedUser})\n    })\n    .catch(err => console.log(err))\n\n    dispatch({type: SET_LOADING, payload: false})\n}\n\n\n","\nimport axios from 'axios';\nimport { SET_ALERT, CREATE_CARD, DELETE_CARD, DELETE_CARD_ERROR, LOAD_CARDS, LOAD_CARD, SET_LOADING } from '../actionTypes';\n\nexport const addCard = (card) => async( dispatch, getState) => {\n        \n    \n    axios.post(\"/api/addFlashcard\", {\n            front: card.front,\n            back: card.back,\n            cardgroupid: card.cardgroupid\n        }, {\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem(\"user_token\")\n            }\n        })\n        .then(res => {\n            console.log(\"returned\")\n            console.log(res.data)\n            if(res.data.error){\n                console.log(\"error\")\n                throw new Error(res.data.error)\n            }\n\n            const createdCard = res.data\n            dispatch({type: CREATE_CARD, payload: createdCard})\n            let alert = {severity: \"success\", text: \"successfully created card\"}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n        .catch(err => {\n            console.log(\"This is an error yes plz\")\n            console.log(err.toString())\n            let alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n\n    console.log(\"async call up in hier\", card)\n    \n};\n\nexport const editCard = (card) => async( dispatch, getState) => {\n    console.log(\"carddd\", card)\n    \n    axios.post(\"/api/editflashcard\", {\n            front: card.front,\n            back: card.back,\n            id: card.id\n            // cardgroupid: card.cardgroupid\n\n        }, {\n            headers: {\n                Authorization: \"Bearer \" + localStorage.getItem(\"user_token\")\n            }\n        })\n        .then(res => {\n            console.log(\"returned\")\n            console.log(res.data)\n            if(res.data.error){\n                console.log(\"error\")\n                throw new Error(res.data.error)\n            }\n            const changedCard = res.data\n            dispatch({type: DELETE_CARD, payload: card})\n            dispatch({type: CREATE_CARD, payload: changedCard})\n\n            let alert = {severity: \"success\", text: \"successfully changed card\"}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n        .catch(err => {\n            console.log(\"This is an error yes plz\")\n            console.log(err.toString())\n            let alert = {severity: \"error\", text: err.toString()}\n            dispatch({type: SET_ALERT, payload: alert})\n        })\n\n    console.log(\"async call up in hier\", card)\n    \n};\n\nexport const loadCardGroupUserFlashcards = (cardgroupId, userId) => async dispatch => {\n    dispatch({type: SET_LOADING, payload: true})\n    console.log(\"userid\", userId)\n    console.log(\"cardgroupid\", cardgroupId)\n\n    await axios.get(\"/api/cardgroupuserflashcards/\"+cardgroupId+\"/\"+userId,\n        {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"user_token\")}`\n            }\n        })\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            const cards = res.data\n            console.log(\"lmlmlml\")\n            console.log(cards)\n            dispatch({type: LOAD_CARDS, payload: cards})\n        })\n        .catch(err => console.log(err))\n\n\n    dispatch({type: SET_LOADING, payload: false})\n}\n\nexport const loadCards = props => async (dispatch, getState) => {\n\n    dispatch({type: SET_LOADING, payload: true})\n\n    await axios.get(\"/api/flashcards\")\n    .then(res => {\n        if(res.data.error){\n            throw new Error(res.data.error)\n        }\n        const cards = res.data\n        console.log(\"mah cah\")\n        console.log(cards)\n        dispatch({type: LOAD_CARDS, payload: cards})\n    })\n    .catch(err => {\n        let alert = {severity: \"error\", text: err.toString() + \" when attemting to get card\"}\n        dispatch({type: SET_ALERT, payload: alert})  \n    })\n\n    dispatch({type: SET_LOADING, payload: false})\n\n}\n\nexport const loadCardgroupFlashcards = (cardgroupId) => async (dispatch, getState) => {\n\n    dispatch({type: SET_LOADING, payload: true})\n\n\n    console.log(\"idd\",cardgroupId)\n\n    await axios.get(\"/api/cardgroupflashcards/\"+cardgroupId)\n    .then(response => {\n        const cards = response.data\n        console.log(\"lmlmlml\")\n        console.log(cards)\n        dispatch({type: LOAD_CARDS, payload: cards})\n    })\n    .catch(err => {\n        let alert = {severity: \"error\", text: err.toString() + \" when attemting to get card\"}\n        dispatch({type: SET_ALERT, payload: alert})  \n    })\n\n    dispatch({type: SET_LOADING, payload: false})\n\n}\n\n\n\nexport const loadCard = props => async (dispatch, getState) => {\n    dispatch({type: SET_LOADING, payload: true})\n\n\n    if (props){\n        await axios.get(\"/api/flashcard/\"+props)\n        .then(res => {\n            if(res.data.error){\n                throw new Error(res.data.error)\n            }\n            const card = res.data\n            console.log(\"lmlmlml\")\n            console.log(card)\n            dispatch({type: LOAD_CARD, payload: [card]})\n        })\n        .catch(err => {\n        let alert = {severity: \"error\", text: err.toString() + \" when attemting to get card\"}\n        dispatch({type: SET_ALERT, payload: alert})  \n        })\n        \n    }\n\n    dispatch({type: SET_LOADING, payload: false})\n\n}\n\n\n\nexport const deleteCard = (card) => async (dispatch, getState) => {\n\n    console.log(\"del,\", card)\n\n    await axios.delete(\"/api/deleteflashcard/\" + card.id, \n    {headers: { \n        Authorization: \"Bearer \" +localStorage.getItem(\"user_token\") \n    }}\n    ).then(res => {\n        console.log(res.data)\n        if(res.data.error){\n            throw new Error(res.data.error)\n        }\n        let alert = {severity: \"success\", text: \"successfully deleted card\"}\n        dispatch({type: SET_ALERT, payload: alert})  \n        dispatch({type: DELETE_CARD, payload: card})        \n    })\n    .catch(err => {\n        let alert = {severity: \"error\", text: err.toString() + \" when attemting to delete card\"}\n        dispatch({type: SET_ALERT, payload: alert})  \n        dispatch({type: DELETE_CARD_ERROR, payload: card}) \n    })\n\n}\n\n\n\n\n","import React, {useEffect} from \"react\"\nimport { FormControl, InputLabel, Select, makeStyles, MenuItem } from \"@material-ui/core\"\nimport { useSelector } from 'react-redux';\nimport { useDispatch } from 'react-redux';\nimport { loadCards } from \"../../store/actions/cardActions\";\nimport { loadCardgroups } from \"../../store/actions/cardgroupActions\";\n\n\n\n\n\n\nconst CardgroupSelect = props => {\n\n    \n\n    const cardgroups = useSelector(state => state.cardgroupReducer.cardgroups)\n    \n    const dispatch = useDispatch();\n\n    // console.log(\"is token?\", localStorage.getItem(\"user_token\"))\n\n    useEffect(() => {\n        dispatch(loadCardgroups())\n    }, [])   \n\n\n\n    let cardgroupMenuitems = []\n\n    cardgroups.map((cardgroup, index) => (\n\n        cardgroupMenuitems[index] = <MenuItem key={index} value={cardgroup.id}>{cardgroup.title} </MenuItem>\n            \n    ))\n  \n    const [group, setGroup] = React.useState('');\n    \n\n    const handleChange = (event) => {\n      setGroup(event.target.value);\n      if (props.onChange){\n        props.onChange(event.target.value)\n      }\n    };\n  \n\n    return(\n        <FormControl fullWidth variant=\"outlined\" >\n            <InputLabel id=\"demo-simple-select-outlined-label\">Cardgroup</InputLabel>\n            <Select\n            required\n            color=\"secondary\"\n            labelId=\"demo-simple-select-outlined-label\"\n            id=\"demo-simple-select-outlined\"\n            value={group}\n            onChange={handleChange}\n            label=\"group\"\n            >\n            \n            {cardgroupMenuitems.length ? cardgroupMenuitems : <MenuItem value=\"\">\n                <em>No groups exists</em>\n            </MenuItem> }\n\n            </Select>\n      </FormControl>\n    )\n\n}\n\nexport default CardgroupSelect","\nimport { Button, \n    Grid,  \n    TextField,\n    Dialog,\n    Typography,\n    makeStyles\n} from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { addCard, editCard } from '../../store/actions/cardActions';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        \"& .MuiDialog-paperScrollPaper\": {\n            maxHeight: \"100vh\",\n        },\n    }\n}))\n\nconst FlashcardForm = (props) => {\n    const { onClose, selectedValue, open } = props;\n    const dispatch = useDispatch();    \n    const classes = useStyles()\n    const cardgroupId = props.cardgroupId\n\n    const [front, setFront] = useState(\"\")\n    const [back, setBack] = useState(\"\")\n\n    // const card = useSelector(state => state.cardReducer.cards)\n    \n\n    \n    useEffect(() => {\n        if (props.card){\n            console.log(\"cccc\", props.card)\n            setFront(props.card.front)\n            setBack(props.card.back)\n        }\n    }, [props.card])\n    \n\n   \n\n    const submit = e => {\n        e.preventDefault()\n        console.log(\"id\", cardgroupId)\n        \n        if (front && back && cardgroupId){\n            \n            if (props.card){\n             dispatch(editCard({\n                front: front,\n                back: back,\n                cardgroupid: cardgroupId,\n                id: props.card.id\n                }))\n            }\n            else {\n                dispatch(addCard({\n                    front: front,\n                    back: back,\n                    cardgroupid: cardgroupId\n                    }))\n            }\n            \n\n            handleClose()\n            \n        }\n        else{\n            alert(\"fill inn all fields\")\n            console.log(front, back, cardgroupId)\n        }\n    }\n\n    const handleClose = () => {\n\n        onClose(selectedValue);\n    };\n  \n    // return \n\n    return (\n      <Dialog onClose={handleClose} \n        className={classes.dialog}\n\n       open={open} >\n\n        <form onSubmit={submit} style={{margin: \"40px\"}}>\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n\n                    <Typography variant=\"h5\">Edit a flashcard </Typography>\n                </Grid>\n                {/* <Grid item xs={12}>\n                    <CardgroupSelect onChange={e => setCardgroupid(e)} />\n                </Grid> */}\n                <Grid item xs={12}>\n                    <TextField \n                        onChange={e => setFront(e.target.value)} \n                        fullWidth \n                        required \n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        label=\"Front\"\n                        value={front}\n                        multiline\n                        rows={4}/>\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField \n                        onChange={e => setBack(e.target.value)}\n                        id=\"asd\"\n                        label=\"Back\"\n                        color=\"secondary\"\n                        multiline\n                        rows={4}\n                        defaultValue=\"\"\n                        value={back}\n                        fullWidth\n                        required\n                        variant=\"outlined\"\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                <Button type=\"submit\" fullWidth style={{backgroundColor: front && back ? \"green\" : \"grey\", color: \"white\"}}>{props.card ? \"edit\" : \"submit\"}</Button>\n                \n                </Grid>\n\n            </Grid>\n                </form>\n\n        \n\n      </Dialog>\n    );\n}\n\nexport default FlashcardForm","\nimport { useState } from 'react';\nimport { Card, IconButton, Typography } from '@material-ui/core';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nimport { useDispatch, useSelector} from \"react-redux\"\nimport { Grid } from '@material-ui/core/';\nimport { deleteCard } from '../../store/actions/cardActions';\nimport FlashcardForm from '../dialogs/flashcardForm';\nimport loadingReducer from '../../store/reducers/loadingReducer';\nimport Loading from '../notifications/loading';\n\n\n\nconst CardView = props => {\n\n    const dispatch = useDispatch();\n    const [editCard, setEditCard] = useState({})\n    const [open, setOpen] = useState(false);\n    const loading = useSelector(state => state.loadingReducer.loading)\n\n    const handleClickOpen = () => {\n        setOpen(true);\n      };\n\n    const handleClose = (value) => {\n        setOpen(false);\n      };\n\n\n    const deleteThisCard = card => {     \n        dispatch(deleteCard(card))   \n    }\n\n    \n    const editThisCard = card => {\n        console.log(\"edit\", card)\n        setEditCard(card)    \n        handleClickOpen()\n    }\n    console.log(\"car1ds\", props.cards)\n    \n    let cardItems = []\n    if (props.cards.length){\n    props.cards.map((card, index) => (        \n        cardItems[index] = \n        <Grid item xs={12}>\n        <Card key={card.id} style={{padding: \"10px\", margin: \"5px\"}}>\n        <Grid container spacing={0}> \n            <Grid item xs={11}>\n                <Typography variant=\"subtitle2\" >\n                    Front:\n                </Typography>\n                <Typography variant=\"caption\" >\n                    {card.front}\n                </Typography>\n                <Typography variant=\"subtitle2\" >\n                    Back:\n                </Typography>\n                <Typography variant=\"caption\" >\n                    {card.back}\n                </Typography>\n            </Grid>\n            <Grid item xs={1} style={{padding: \"auto\"}} >\n                <IconButton onClick = {() => editThisCard(card)}> \n                    <EditIcon style={{fontSize: \"20px\"}} /> \n                </IconButton>\n                <IconButton onClick = {() => deleteThisCard(card)}> \n                    <DeleteIcon style={{fontSize: \"20px\"}} /> \n                </IconButton>\n            </Grid>        \n        </Grid>\n    </Card>\n    \n    </Grid>))\n    }\n\n    \n    if (loading){\n        return <Loading />\n    }\n\n    return (\n        \n        <div>\n            {editCard ? \n            <FlashcardForm open={open} onClose={handleClose} cardgroupId={1} card={editCard}  />\n            : <div> </div> }\n            \n            \n            {cardItems.length ? \n            \n            <Grid container spacing={0}> \n             {cardItems} \n            </Grid>\n            \n            : \n            <div style={{color: \"grey\", marginTop: \"150px\"}}>\n                <Typography variant=\"h5\">No cards</Typography>\n                <Typography variant=\"body1\">Add cards using the <i>Add Flashcard</i> button</Typography>\n            </div>}\n            \n            \n        </div>\n    )\n}\n\nexport default CardView","import { Button, Dialog, Box } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addAdmin, removeAdmin } from '../../store/actions/userActions';\nimport { useEffect } from 'react';\nimport userReducer from '../../store/reducers/userReducer';\nimport CardView from '../submodules/cardview';\n\nconst CardDialog = (props) =>  {\n    const { onClose, selectedValue, open, card } = props;\n   \n    // const dispatch = useDispatch()\n\n    const handleClose = () => {\n      onClose(selectedValue);\n    };\n    \n    // const makeAdmin = () => {\n    //     dispatch(addAdmin(user))\n    //     handleClose()\n    // }\n\n    // const unmakeAdmin = () => {\n    //     dispatch(removeAdmin(user))\n    //     handleClose()\n    // }\n   \n    return (\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n      <Box style={{width:\"400px\", height: \"auto\", margin: 0}} >\n          <CardView cards={[card]} />\n          </Box>\n      </Dialog> \n    );\n  }\n  \n  export default CardDialog","import { PageWrapper } from \"../../static/wrappers\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport userReducer from '../../store/reducers/userReducer';\nimport { useEffect } from 'react';\nimport {  getUsersStatus } from '../../store/actions/userActions';\nimport { DataGrid } from '@material-ui/data-grid';\nimport CardgroupSelect from '../submodules/cardgroupselect';\nimport { useState } from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { loadCardgroupFlashcards } from \"../../store/actions/cardActions\";\nimport CardDialog from \"../dialogs/cardDialog\";\n\n\n const AllCards = () => {\n\n    const dispatch = useDispatch()\n    const cards = useSelector(state => state.cardReducer.cards)\n    const [openCard, setOpenCard] = useState(false);\n    const [selectedCard, setSelectedCard] = useState({})\n\n\n    const [cardGroupId, setCardGroupId] = useState(0)\n\n\n    useEffect(() => {\n        dispatch(loadCardgroupFlashcards(cardGroupId)) \n        console.log(\"status\")\n    }, [dispatch, cardGroupId])\n    \n    console.log(\"cards\")\n    console.log(cards)\n\n    const columns = [\n        { field: 'username', headerName: 'Username', width: 130 },\n        { field: 'front', headerName: 'Card Front', width: 130 },\n        { field: 'back', headerName: 'Card Back', width: 130 },\n    ]      \n\n    let rows = cards.map(c => (\n        {\n            id: c.id,\n            name: c.user.name,\n            username: c.user.username,\n            front: c.front,\n            back: c.back\n        }\n    ))\n    \n    const handleClick = e => {\n        console.log(\"print\", e.row)\n        setSelectedCard(e.row)\n        setOpenCard(true)\n    }\n    \n    console.log(\"cgid\", cardGroupId)\n    return (\n        <PageWrapper>       \n            <CardDialog open={openCard} onClose={() => setOpenCard(false)} card={selectedCard} />\n            <div style={{marginBottom: \"15px\"}} >\n                <CardgroupSelect onChange={setCardGroupId} />\n                <Typography variant=\"subtitle2\" style={{marginTop: \"20px\"}}>\n                {/* {status[0] ? \"Due: \" + dateToString(status[0].cardgroup.dueDate) : \"Due:\"} */}\n                </Typography>\n            </div>\n\n                <div style={{ height: 400, width: '100%' }}>\n \n                <DataGrid  onCellClick={e => handleClick(e)} rows={rows} columns={columns} pageSize={5}  />\n            </div>\n        </PageWrapper>\n    )\n}\n\nexport default AllCards\n\n\n\n\n// import {useDispatch, useSelector} from \"react-redux\"\n// import { useEffect } from 'react';\n// import { loadCards, loadCardgroupFlashcards } from '../../store/actions/cardActions';\n// import CardView from '../submodules/cardview';\n// import {PageWrapper} from \"../../static/wrappers\"\n\n// const AllCards = props => {\n\n//     const cards = useSelector(state => state.cardReducer.cards)\n    \n//     const dispatch = useDispatch();\n\n//     useEffect(() => {\n//         dispatch(loadCards())   \n//     }, [dispatch])   \n\n\n//     return(\n//         <PageWrapper> \n//             <CardView cards={cards}/>\n//         </PageWrapper>\n//     )\n// }\n\n// export default AllCards","import { Redirect } from \"react-router-dom\";\nimport { useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport { signInCallack } from '../store/actions/authActions';\n\nconst LogInFunc = () => {\n    const dispatch = useDispatch();   \n    \n    useEffect(() => {\n        dispatch(signInCallack())\n    }, [dispatch])   \n\n    return( \n        <Redirect to={{\n          pathname: \"/\"\n        }}/>  \n      )\n\n\n}\n\nexport default LogInFunc","\nimport { Button, \n    Grid, \n    TextField,\n    Dialog,\n    Typography,\n    makeStyles\n} from '@material-ui/core';\nimport React, { useState } from 'react';\n\n\nimport {  useDispatch } from 'react-redux';\nimport { addCard } from '../../store/actions/cardActions';\n\nconst useStyles = makeStyles(theme => ({\n    dialog: {\n        \"& .MuiDialog-paperScrollPaper\": {\n            maxHeight: \"100vh\",\n        },\n    }\n}))\n\nconst CreateCardDialog = (props) => {\n    const { onClose, selectedValue, open } = props;\n    const dispatch = useDispatch();    \n    const classes = useStyles()\n    const cardgroupId = props.cardgroupId\n\n    const [front, setFront] = useState(\"\")\n    const [back, setBack] = useState(\"\")\n\n   \n\n    const submit = e => {\n        e.preventDefault()\n        console.log(\"id\", cardgroupId)\n        \n        if (front && back && cardgroupId){\n\n\n            try{ dispatch(addCard({\n                front: front,\n                back: back,\n                cardgroupid: cardgroupId\n            }))}\n            catch {\n            }\n            setFront(\"\")\n            setBack(\"\")\n            handleClose()\n            \n        }\n        else{\n            alert(\"fill inn all fields\")\n            console.log(front, back, cardgroupId)\n        }\n    }\n\n    const handleClose = () => {\n\n        onClose(selectedValue);\n    };\n  \n  \n    return (\n      <Dialog onClose={handleClose} \n        className={classes.dialog}\n\n       open={open} >\n\n        <form onSubmit={submit} style={{margin: \"40px\"}}>\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n\n                    <Typography variant=\"h5\">Create a flashcard. This can be edited later </Typography>\n                </Grid>\n                {/* <Grid item xs={12}>\n                    <CardgroupSelect onChange={e => setCardgroupid(e)} />\n                </Grid> */}\n                <Grid item xs={12}>\n                    <TextField \n                        onChange={e => setFront(e.target.value)} \n                        fullWidth \n                        required \n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        label=\"Front\"\n                        value={front}\n                        multiline\n                        rows={4}/>\n                </Grid>\n                <Grid item xs={12}>\n                    <TextField \n                        onChange={e => setBack(e.target.value)}\n                        id=\"asd\"\n                        label=\"Back\"\n                        color=\"secondary\"\n                        multiline\n                        rows={4}\n                        defaultValue=\"\"\n                        value={back}\n                        fullWidth\n                        required\n                        variant=\"outlined\"\n                    />\n                </Grid>\n                <Grid item xs={12}>\n                <Button type=\"submit\" fullWidth style={{backgroundColor: front && back ? \"green\" : \"grey\", color: \"white\"}}>Submit</Button>\n                \n                </Grid>\n\n            </Grid>\n                </form>\n\n        \n\n      </Dialog>\n    );\n}\n\nexport default CreateCardDialog","\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect, useState } from 'react';\nimport { loadCardGroupUserFlashcards } from '../../store/actions/cardActions';\nimport CardView from '../submodules/cardview';\nimport { deleteCardgroup, loadCardgroup } from '../../store/actions/cardgroupActions';\nimport { Button, Grid, LinearProgress, makeStyles, Typography } from '@material-ui/core';\nimport CreateCardDialog from '../dialogs/createCardDialog';\nimport {PageWrapper} from \"../../static/wrappers\"\nimport authReducer from '../../store/reducers/authReducer';\nimport loadingReducer from '../../store/reducers/loadingReducer';\nimport Loading from '../notifications/loading';\nimport userReducer from '../../store/reducers/userReducer';\nimport { Redirect } from 'react-router-dom';\n\nconst useStyles = makeStyles(theme => ({\n    addButton: {\n        backgroundColor: theme.palette.button.success.main,\n        color: \"white\",\n        border: \"none\",\n        align: \"center\",\n        '&:hover': {\n            background: theme.palette.button.success.dark,\n          }\n    },\n    delButton: {\n        backgroundColor: theme.palette.button.error.main,\n        color: \"white\",\n        border: \"none\",\n        align: \"center\",\n        '&:hover': {\n            background: theme.palette.button.error.dark,\n          }\n    },\n    progressBar: {\n        \"& .MuiLinearProgress-barColorPrimary\" : {\n            backgroundColor: theme.palette.button.success.main\n        }\n    }\n}))\n\n\nconst CardGroupPage = props => {\n    console.log(\"prop\")\n    console.log(props.match.params)\n\n    const [redirectHome, setRedirectHome] = useState(false)\n    const classes = useStyles()\n\n    const isAdmin = useSelector(state => state.authReducer.isAdmin)\n\n    const cards = useSelector(state => state.cardReducer.cards)\n    const cardgroup = useSelector(state => state.cardgroupReducer.cardgroups[0])\n    const user = useSelector(state => state.authReducer.loggedInUser)\n    const [open, setOpen] = useState(false);\n    const dispatch = useDispatch();\n\n    const percentage = Math.round(100*(cards.length / cardgroup.numberOfCardsDue))\n    const loading = useSelector(state => state.loadingReducer.loading)\n\n    const handleClickOpen = () => {\n        setOpen(true);\n      };\n\n    const handleClose = (value) => {\n        setOpen(false);\n      };\n\n    const handleDelete = () => {\n        if (window.confirm(\"Are you sure you want to delete cardgroup with all cards?\")){ \n            dispatch(deleteCardgroup(cardgroup))\n            setRedirectHome(true)\n        }\n\n    }\n\n    console.log(\"cardgr.:\")\n    console.log(cardgroup)\n    \n    useEffect(() => {\n        console.log(\"stuff and things\") \n        console.log(cardgroup)\n        console.log(user)\n        dispatch(loadCardGroupUserFlashcards(props.match.params.id, user.id))       \n        dispatch(loadCardgroup(props.match.params.id))\n    }, [dispatch, props.match.params.id])   \n\n    const date = cardgroup.dueDate\n    let a = new Date(date.year, date.month-1, date.date, date.hour, date.minute)\n    console.log(\"aa\", a)\n\n    if (redirectHome){\n        return (\n            <Redirect to={{\n                pathname: \"/\"\n              }}/>  \n        )\n    }   \n    if (loading){\n        return (\n            <PageWrapper>\n                <Loading />\n            </PageWrapper>    \n        )\n    }\n    return(\n        <PageWrapper>\n            <CreateCardDialog open={open} onClose={handleClose} cardgroupId={props.match.params.id} />           \n\n            <Grid container spacing={6}>\n                <Grid item xs={8}>\n                    <Typography variant=\"h4\">{cardgroup.title}</Typography>\n                    <Typography variant=\"body2\">{cardgroup.numberOfCardsDue} cards are due \n                     {\" \"+a.toString()}\n                     </Typography>\n\n                    <div style={{marginTop: \"40px\"}}>\n                     <CardView cards={cards}/>\n                     </div>\n                </Grid>\n                \n                \n                <Grid item xs={4}>\n                    <Button fullWidth style={{height: \"80px\"}} className={classes.addButton} variant=\"outlined\" onClick={handleClickOpen}>\n                    + Add Flashcard\n                    </Button> \n                    <Grid container style={{margin: \"30px 0\", border: \"0px solid black\"}}>\n                        <Grid item xs={8}>\n                            <Typography variant=\"body1\">You've created</Typography>\n                            <Typography variant=\"body1\">{cards.length} of {cardgroup.numberOfCardsDue}</Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                           <Typography variant=\"h4\">{percentage}%</Typography>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <LinearProgress className={classes.progressBar} variant=\"determinate\" value={percentage} />\n                        </Grid>\n                    </Grid>\n                    {isAdmin ? \n                    <Button fullWidth style={{height: \"80px\"}} className={classes.delButton} variant=\"outlined\" onClick={handleDelete}>\n                        Delete cardgroup and all cards\n                    </Button> : <div></div>}\n                </Grid>\n                <Grid item xs={7}>\n                    \n                </Grid>\n\n            </Grid>\n\n\n\n\n            \n\n\n            \n\n        </PageWrapper>\n    )\n\n  \n}\n\nexport default CardGroupPage","import { Typography } from \"@material-ui/core\"\nimport { useSelector } from \"react-redux\";\nimport { PageWrapper } from \"../../static/wrappers\";\n\nconst UserProfile  = () => {\n    const loggedInuser = useSelector(state => state.authReducer.loggedInUser)\n    const isAdmin = useSelector(state => state.authReducer.isAdmin)\n    // const dispatch = useDispatch();    \n\n    return(\n        <PageWrapper>\n            {isAdmin ? <Typography variant=\"h3\">Admin profile</Typography> :  <Typography variant=\"h3\">User profile</Typography>}\n            {loggedInuser ? <div> <h2>You are logged in, {loggedInuser.name}</h2>\n            <span style={{ color: \"grey\" }}>username: </span><span>{loggedInuser.username}</span> <br />\n            <span style={{ color: \"grey\" }}>email: </span><span>{loggedInuser.email}</span> </div> : <h1> Not logged in  </h1>}\n\n        </PageWrapper>\n    )\n}\n\n\nexport default UserProfile","import { Button, Dialog } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addAdmin, removeAdmin } from '../../store/actions/userActions';\nimport { useEffect } from 'react';\nimport userReducer from '../../store/reducers/userReducer';\n\n\n\nconst UserDialog = (props) =>  {\n    const { onClose, selectedValue, open, user } = props;\n   \n    const dispatch = useDispatch()\n\n    const handleClose = () => {\n      onClose(selectedValue);\n    };\n    \n    const makeAdmin = () => {\n        dispatch(addAdmin(user))\n        handleClose()\n    }\n\n    const unmakeAdmin = () => {\n        dispatch(removeAdmin(user))\n        handleClose()\n    }\n   \n    return (\n      <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open} >\n        <div style={{padding: \"30px\", width:\"500px\"}}>\n\n            <h2>User: {user.name}</h2>\n            <span style={{ color: \"grey\" }}>username: </span><span>{user.username}</span> <br />\n            <span style={{ color: \"grey\" }}>email: </span><span>{user.email}</span> <br />\n            <span style={{ color: \"grey\" }}>role: </span><span>{user.role}</span> <br />\n\n            <div style={{textAlign: \"center\", paddingTop: \"50px\"}}>\n            {user.role == \"Admin\" ? \n                <Button onClick={() => unmakeAdmin()} variant=\"outlined\">Remove admin</Button>\n            :\n                <Button onClick={() => makeAdmin()} variant=\"outlined\">Make admin</Button>\n            }     \n            </div>\n        \n        </div>\n      </Dialog>\n    );\n  }\n  \n  export default UserDialog","import { PageWrapper } from \"../../static/wrappers\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport userReducer from '../../store/reducers/userReducer';\nimport { useEffect } from 'react';\nimport { getAllUsers, getUsersWithRole, searchUsers } from '../../store/actions/userActions';\nimport { DataGrid, SearchIcon } from '@material-ui/data-grid';\nimport { FormControl, MenuItem, TextField, Grid, Button, IconButton } from '@material-ui/core';\nimport { InputLabel } from '@material-ui/core';\nimport { Select } from '@material-ui/core';\nimport { useState } from 'react';\nimport UserDialog from \"../dialogs/userDialog\";\n\n\n const Users = () => {\n\n    const [show, setShow] = useState('all');\n\n\n    const dispatch = useDispatch()\n    const users = useSelector(state => state.userReducer.users)\n    const [openUserDialog, setOpenUserDialog] = useState(false);\n    const [selectedUser,setSelectedUser] = useState({})\n\n\n    const [searchPhrase, setSearchPhrase] = useState(\"\")\n    \n\n    const userRoleFiler = role => {\n        if (role===\"all\"){\n            console.log(\"all da\")\n            dispatch(getAllUsers())\n        } else if (role===\"User\"){\n            dispatch(getUsersWithRole(\"User\"))\n        } else if (role===\"Admin\"){\n            console.log(\"aadd\")\n            dispatch(getUsersWithRole(\"Admin\"))\n        }\n    }\n\n    useEffect(() => {\n        // dispatch(getAllUsers())          \n        userRoleFiler(show)\n    }, [dispatch, show])\n\n    let rows = users    \n\n    const columns = [\n        {field: \"id\", headerName: \"id\", width: 70},\n        {field: \"username\", headerName: \"username\", width: 130},\n        {field: \"name\", headerName: \"name\", width: 130},\n        {field: \"email\", headerName: \"email\", width: 130},\n        {field: \"role\", headerName: \"role\", width: 130}\n    ]      \n\n    const handleSearch = (e) => {      \n        if (!searchPhrase){\n            userRoleFiler(show)\n        }   else {     \n        dispatch(searchUsers(show, searchPhrase))   \n        }     \n    }\n\n    const handleFilter = e => {\n        setSearchPhrase(\"\")\n        setShow(e.target.value)\n    } \n\n    const handleClick = e => {\n        console.log(\"print\", e.row)\n        setSelectedUser(e.row)\n        setOpenUserDialog(true)\n    }\n    \n    return (\n        <PageWrapper>       \n            <UserDialog open={openUserDialog} onClose={() => setOpenUserDialog(false)} user={selectedUser} />\n            <Grid container spacing={1}>\n                <Grid item xs={6}>\n            \n                    <FormControl fullWidth variant=\"outlined\">\n                    <InputLabel id=\"demo-simple-select-label\">Filter</InputLabel>\n                        <Select\n                        // labelId=\"demo-simple-select-label\"\n                        // id=\"demo-simple-select\"\n                        // value={show}\n                        // onChange={e => setShow(e.target.value)}'\n                        required\n                        color=\"secondary\"\n                        value={show}\n                        onChange={e => handleFilter(e)}\n                        label=\"show\"\n            \n                        >\n                        <MenuItem value={\"all\"}>All users</MenuItem>\n                        <MenuItem value={\"Admin\"}>Admins</MenuItem>\n                        <MenuItem value={\"User\"}>Users</MenuItem>\n                        </Select>\n                    </FormControl> \n                </Grid>\n                <Grid item xs={6}>\n\n\n                        <TextField \n                                id=\"search\"\n                                label=\"Search username\"\n                                color=\"secondary\"\n                                defaultValue=\"\"\n                                fullWidth\n                                onKeyPress={(ev) => {\n                                    if (ev.key === 'Enter') {\n                                        handleSearch()\n                                    }\n                                  }}\n                                onChange={e => setSearchPhrase(e.target.value)}\n                                value={searchPhrase}\n                                variant=\"outlined\"\n                                InputProps={{endAdornment: \n                                    <IconButton onClick={handleSearch}>\n                                        <SearchIcon />\n                                    </IconButton>\n                                }}\n                            ></TextField>\n                        </Grid>\n\n                        <Grid item xs={12}>\n\n\n\n                        <div style={{ height: 400, width: '100%' }}> \n                    <DataGrid onCellClick={e => handleClick(e)} rows={rows} columns={columns} pageSize={5}  />\n                    </div>\n            </Grid>  \n            </Grid>     \n\n        </PageWrapper>\n    )\n}\n\nexport default Users","\nimport React, {useState} from \"react\"\nimport { makeStyles } from '@material-ui/core/styles';\nimport  { Redirect, NavLink, Link } from 'react-router-dom'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport {AppBar, ButtonGroup, Menu, MenuItem} from '@material-ui/core'\nimport PersonIcon from '@material-ui/icons/Person';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\n\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { signOut } from '../../store/actions/authActions';\nimport { NavBarWrapper, PageWrapper } from \"../../static/wrappers\";\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\n\n\nconst useStyles = makeStyles(theme => ({ \n    navlink: {\n        color: theme.palette.textColor,\n        textDecoration: \"none\"\n    },\n    button: {\n        width: \"200px\",\n        height: \"50px\",\n    }\n}));\n\n\n\n\n\nconst AdminNavbar = props => {\n\n    const classes = useStyles()\n    \n    const [alignment, setAlignment] = React.useState(1);\n\n\n    const handleAlignment = (event, newAlignment) => {\n        setAlignment(newAlignment);\n      };\n\n    return( \n        <PageWrapper>\n\n            <Typography variant=\"h4\" style={{flexGrow: 0}}>\n        Amin Page\n        </Typography>\n\n                    <Toolbar style={{padding: 0}}>                        \n           \n                    <ToggleButtonGroup\n                    fullWidth\n      value={alignment}\n      exclusive\n      onChange={handleAlignment}    \n      aria-label=\"text alignment\"\n    >\n            <ToggleButton component={Link} value={1} to=\"/adminpage/users\" className={classes.button} variant=\"outlined\"> Users </ToggleButton>\n            <ToggleButton component={Link} value={2} to=\"/adminpage/deliverystatus\" className={classes.button} variant=\"outlined\"> Delivery status </ToggleButton>\n            <ToggleButton component={Link} value={3} to=\"/adminpage/allcards\" className={classes.button} variant=\"outlined\"> All Cards </ToggleButton>\n            \n\n            </ToggleButtonGroup>  \n        \n        </Toolbar>\n        </PageWrapper>\n    )\n}\n\nexport default AdminNavbar","import { Redirect } from \"react-router-dom\"\n\n\n\n\n\n\nconst AdminPage = () => {\n\n\n    return(\n        <div>\n            <Redirect to=\"/adminpage/users\" />\n        </div>\n    )\n}\n\nexport default AdminPage","import { PageWrapper } from \"../../static/wrappers\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport userReducer from '../../store/reducers/userReducer';\nimport { useEffect } from 'react';\nimport {  getUsersStatus } from '../../store/actions/userActions';\nimport { DataGrid } from '@material-ui/data-grid';\nimport CardgroupSelect from '../submodules/cardgroupselect';\nimport { useState } from 'react';\nimport { Typography } from \"@material-ui/core\";\n\n\n const DeliveryStatus = () => {\n\n    const dispatch = useDispatch()\n    // const users = useSelector(state => state.userReducer.users)\n    const status = useSelector(state => state.userReducer.status)\n\n    const [cardGroupId, setCardGroupId] = useState(0)\n\n\n    useEffect(() => {\n        dispatch(getUsersStatus(cardGroupId))\n        console.log(\"status\")\n        console.log(status)\n    }, [dispatch, cardGroupId])\n    \n    console.log(\"usars\")\n\n    \n\n    const columns = [\n        { field: 'username', headerName: 'Username', width: 130 },\n        { field: 'delivered', headerName: 'Delivered', type: \"number\", width: 130 },\n        {\n          field: 'toDeliver',\n          headerName: 'To Deliver',\n          type: 'number',\n          width: 130,\n        },\n        { field: 'complete', headerName: 'Complete', type: \"number\", width: 130 },      \n    ]      \n\n    let rows = status.map(s => (\n        {\n            id: s.user.id, \n            username: s.user.username, \n            delivered: s.delivered, \n            toDeliver: s.cardgroup.numberOfCardsDue,\n            complete: s.delivered == s.cardgroup.numberOfCardsDue ? true : false\n        }\n    ))\n\n    \n      \n    \n    const dateToString = date => {\n        let a = new Date(date.year, date.month-1, date.date, date.hour, date.minute)\n            console.log(\"aa\", a)\n            // return a.getUTCMonth()\n            return a.toString()\n      }\n    \n    console.log(\"cgid\", cardGroupId)\n    return (\n        <PageWrapper>       \n            <div style={{marginBottom: \"15px\"}} >\n                <CardgroupSelect onChange={setCardGroupId} />\n                <Typography variant=\"subtitle2\" style={{marginTop: \"20px\"}}>\n                {status[0] ? \"Due: \" + dateToString(status[0].cardgroup.dueDate) : \"Due:\"}\n                </Typography>\n            </div>\n\n                <div style={{ height: 400, width: '100%' }}>\n \n                <DataGrid rows={rows} columns={columns} pageSize={5}  />\n            </div>\n        </PageWrapper>\n    )\n}\n\nexport default DeliveryStatus","\nimport React, {useEffect} from \"react\"\nimport { BrowserRouter as Redirect, Route, Switch } from \"react-router-dom\";\n\nimport Home from \"./components/pages/home\"\nimport Login from \"./components/pages/login\"\nimport AllCards from './components/adminpages/allCards';\n// import CreateCardgroup from \"./components/createCardgroup\"\nimport logInFunc from './components/loginfunc';\nimport { checkLogInStatus } from \"./store/actions/authActions\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport CardGroupPage from './components/pages/cardGroupPage';\nimport { makeStyles } from \"@material-ui/core\";\nimport UserProfile from \"./components/pages/userProfile.js.js\";\nimport AdminCardGroupPage from './components/adminpages/adminCardgroupPage';\nimport Users from \"./components/adminpages/users\";\nimport AdminNavbar from './components/layout/adminNavbar';\nimport AdminPage from \"./components/adminpages/adminPage\";\nimport DeliveryStatus from './components/adminpages/deliveryStatus';\n\nconst useStyles = makeStyles(theme => ({\n    // pages: {\n    //     paddingLeft: \"auto\",\n    //     paddingRight: \"auto\",\n    //     alignItems: \"center\",\n    //     display: \"flex\",\n    //     paddingTop: theme.values.siteTopMargin        \n    // }\n\n})); \n\nconst Routes = () => {\n\n    const classes = useStyles()\n    const loggedIn = useSelector(state => state.authReducer.loggedIn)\n    const isAdmin = useSelector(state => state.authReducer.isAdmin)\n    const dispatch = useDispatch();     \n    \n    useEffect(() => {\n        dispatch(checkLogInStatus())\n        console.log(\"is logged\", loggedIn)\n        console.log(\"is admin\", isAdmin)            \n        \n    }, [loggedIn, dispatch])   \n\n    // get log in status\n\n    return(\n        <div className={classes.pages}>\n            <Switch>\n                <Route path=\"/\" exact component={loggedIn ? Home : Login}/>\n                <Route path=\"/loginfunc\" exact component={logInFunc}/>\n                <Route path=\"/cardgroup/:id\" exact component={CardGroupPage} />\n\n                {loggedIn ? \n                <React.Fragment>\n                    <Route path=\"/userprofile/:username\" exact component={UserProfile} />\n                    {isAdmin ? \n                    <React.Fragment>\n                        {/* <Route path=\"/adminpage\" exact component={AdminPage} /> */}\n                    \n                        <Route\n                            path=\"/adminpage\"\n                            render={({ match: { url } }) => (\n                            <>\n                                <AdminNavbar />    \n                                <Route path={`${url}/`} component={AdminPage} exact />\n                                <Route path={`${url}/users`} component={Users} />\n                                <Route path={`${url}/deliverystatus`} component={DeliveryStatus} />\n                                <Route path={`${url}/allcards`} component={AllCards} />\n                            </>\n                            )}\n                        />\n                    </React.Fragment>\n                     :    \n                    <React.Fragment>\n                    </React.Fragment>}\n                </React.Fragment>\n                :\n                <Redirect to={{\n                    pathname: \"/\"\n                }} /> }  \n            </Switch>\n        </div>\n    )\n}\n\nexport default Routes","import { createMuiTheme } from '@material-ui/core/styles';\n\n\n\nimport blue from '@material-ui/core/colors/blue';\n// import red from '@material-ui/core/colors/red';\n// import yellow from '@material-ui/core/colors/yellow';\n// import green from '@material-ui/core/colors/green';\nimport {grey} from '@material-ui/core/colors/';\n\nexport const darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    textColor: \"#fff\",\n\n    primary: {\n      main: \"#171717\"\n    },\n    secondary: {\n      main: \"#fff\"\n    },\n\n    button: {\n      main: blue[500],\n      success: {\n        main: \"#078900\",\n        dark: \"#0ab500\"\n      }, \n      error: {\n        main: \"#000\" \n      }\n    },\n    hover: \"f0f0f0\",\n  },\n  values: {\n    siteSideMargin: \"25%\",\n    siteTopMargin: \"75px\"\n  }  \n  \n});\n\nexport const theme = createMuiTheme({\n  root: {\n    // marginLeft: \"100px\"\n  },\n\n  palette: {\n\n    primary: { \n        // light: will be calculated from palette.primary.main,\n        main: \"#00509e\",\n        // dark: will be calculated from palette.primary.main,\n        // contrastText: will be calculated to contrast with palette.primary.main\n    },\n    secondary: { \n      main: grey[500],\n    },\n    textColor: \"#000\",\n    button: {\n      main: blue[500],\n      success: {\n        main: \"#078900\",\n        dark: \"#0ab500\"\n      },\n      error: {\n        main: \"#931A00\" ,\n        dark: \"#60190B\"\n      }\n    },\n    hover: \"f0f0f0\",\n  },\n  values: {\n    siteSideMargin: \"25%\",\n    siteTopMargin: \"75px\"\n  }\n\n});\n\n\n\n  \n\n","\nimport React, {useEffect} from \"react\"\nimport {Alert} from '@material-ui/lab/';\nimport { useSelector } from 'react-redux';\nimport Snackbar from '@material-ui/core/Snackbar';\n\n\n\nconst Alerter = () => {\n\n    const severity = useSelector(state => state.alertReducer.severity)\n    const text = useSelector(state => state.alertReducer.text)\n    \n    const [open, setOpen] = React.useState(false);\n\n    useEffect(() => {\n      if (text){\n        setOpen(true)\n      }\n    }, [text])\n  \n    const handleClose = (event, reason) => {\n      if (reason === 'clickaway') {\n        return;\n      }  \n      setOpen(false);\n    };\n  \n    \n    return(\n        \n        <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n            <Alert \n                onClose={handleClose}\n                severity={severity}\n            >{text}\n            </Alert>                \n      </Snackbar>\n    )\n}\n\nexport default Alerter","\nimport React, { useEffect } from \"react\"\nimport Navbar from \"./components/layout/navbar\"\nimport Routes from \"./routes\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\nimport {theme, darkTheme} from \"./static/theme\"\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport Alerter from './components/notifications/alerter';\n\n\nconst App = () => {\n\n  const [darkMode, setDarkMode] = React.useState(false)\n\n  useEffect(() => {    \n    const darkMode = sessionStorage.getItem(\"dark-mode\")\n    console.log(\"init darkmode\", darkMode)\n    if (!darkMode){\n      sessionStorage.setItem(\"dark-mode\", \"false\")\n    } \n    else if (darkMode === \"true\"){\n      setDarkMode(true)\n    }\n  }, [])\n\n  const toggleDarkMode = () => {\n    const darkMode = sessionStorage.getItem(\"dark-mode\")\n    console.log(darkMode)\n    if (darkMode === \"true\"){\n      setDarkMode(false)\n      sessionStorage.setItem(\"dark-mode\", \"false\")\n    }\n    else if (darkMode === \"false\"){\n      setDarkMode(true)\n      sessionStorage.setItem(\"dark-mode\", \"true\")\n    }\n  }\n\n    return(\n      <MuiThemeProvider theme={darkMode ? darkTheme : theme}>\n        <CssBaseline />\n        <Router>\n          <Navbar loggedin={true} setDarkMode={toggleDarkMode}/>\n          <Alerter /> \n          <Routes />   \n        </Router>\n        {/* <Feedback /> */}\n    </MuiThemeProvider>\n\n    )\n}\n\nexport default App","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { CREATE_CARD, CREATE_CARD_ERROR, DELETE_CARD, DELETE_CARD_ERROR, LOAD_CARD, LOAD_CARDS } from \"../actionTypes\"\n\nconst initState = {\n    cards: [\n       \n    ]\n}\n\nconst cardReducer = (state = initState, action) => {\n    switch(action.type) {\n        case CREATE_CARD:\n            console.log(\"created card\", action.payload)\n            // alert(action.err)\n\n            console.log(state)\n            console.log({ \n                ...state,\n                cards: [...state.cards, action.payload],\n            })\n\n            return { \n                ...state,\n                cards: [...state.cards, action.payload],\n            }\n        // case EDIT_CARD:\n        \n\n        case CREATE_CARD_ERROR:\n            return { \n                ...state,\n            }\n        case LOAD_CARD:\n            console.log(\"got card\", action.payload)\n            return {\n                ...state, \n                cards: action.payload,\n            }\n        \n        case LOAD_CARDS:\n            console.log(\"got cards\", action.payload)\n            console.log({...state, cards: action.payload})\n            return {\n                ...state, \n                cards: action.payload,\n            }\n        case DELETE_CARD:\n            console.log(\"deleting dem cards\")\n            console.log(state.cards)\n            console.log(state.cards.filter(card => card.id !== action.payload.id))\n           \n\n            return { \n                ...state,\n                cards: state.cards.filter((card) => card.id !== action.payload.id),\n            }\n            // return state;\n        \n        case DELETE_CARD_ERROR:\n            return state\n            // return state\n        \n        default:\n            return state;\n    }\n}\n\nexport default cardReducer","\nimport { CREATE_CARDGROUP, CREATE_CARDGROUP_ERROR, DELETE_CARDGROUP, LOAD_CARDGROUPS, DELETE_CARDGROUP_ERROR, LOAD_CARDGROUP } from '../actionTypes';\n\nconst initState = {\n    cardgroups: [\n       \n    ]\n}\n\nconst cardgroupReducer = (state = initState, action) => {\n    switch(action.type) {\n        case CREATE_CARDGROUP:\n            console.log(\"created cardgroup\", action.payload)\n\n            console.log(state)\n            console.log({ \n                ...state,\n                cardgroups: [...state.cardgroups, action.payload]                \n            })\n\n            return { \n                ...state,\n                cardgroups: [...state.cardgroups, action.payload]\n            }\n        case CREATE_CARDGROUP_ERROR:\n            return state\n        case LOAD_CARDGROUPS:\n            console.log(\"got cardgroups\", action.payload)\n            console.log({...state, cardgroups: action.payload})\n            return {\n                ...state, \n                cardgroups: action.payload\n            }\n        case LOAD_CARDGROUP:\n            console.log(\"cardgroup\", action.payload)\n            return{\n                ...state,\n                cardgroups: action.payload\n            }\n\n        case DELETE_CARDGROUP:\n            console.log(\"deleting cardgroup\")\n            console.log(state.cardgroups)\n            console.log(state.cardgroups.filter(cardgroup => cardgroup.id !== action.payload.id))\n           \n\n            return { \n                ...state,\n                cardgroups: state.cardgroups.filter((cardgroup) => cardgroup.id !== action.payload.id),\n            }\n            // return state;\n        \n        case DELETE_CARDGROUP_ERROR:\n            return state;\n        \n        default:\n            return state;\n    }\n}\n\nexport default cardgroupReducer","\nimport { SET_ALERT } from '../actionTypes';\n\nconst initState = {\n    severity: \"\",\n    text: \"\"\n}\n\nconst alertReducer = (state = initState, action) => {\n\n    switch(action.type){\n        case SET_ALERT:\n            console.log(\"Alert\", action)\n            return {\n                severity: action.payload.severity,\n                text: action.payload.text\n            }               \n        default:\n            console.log(\"default alert\")\n            return state\n    }\n}\n\nexport default alertReducer","import { combineReducers } from \"redux\"\nimport authReducer from \"./authReducer\"\nimport cardReducer from \"./cardReducer\"\nimport cardgroupReducer from \"./cardgroupReducer\"\nimport alertReducer from './alertReducer';\nimport loadingReducer from './loadingReducer';\nimport userReducer from './userReducer';\n\nconst rootReducer = combineReducers({\n    authReducer,\n    cardReducer,\n    cardgroupReducer,\n    alertReducer,\n    loadingReducer,\n    userReducer\n});\n\nexport default rootReducer","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {createStore, applyMiddleware} from \"redux\"\nimport rootReducer from './store/reducers/rootReducer';\nimport {Provider} from \"react-redux\"\nimport thunk from \"redux-thunk\"\n\n\n// console.log = () => {};\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store = {store}> \n    {/* <React.StrictMode> */}\n      <App />\n    {/* </React.StrictMode> */}\n  </Provider>, \n  document.getElementById('root')\n);\n\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}